(function() { function f(a){throw a;}
    var i=void 0,j=!0,k=null,o=!1,r,aa=aa||{},s=this,ba=function(a){for(var a=a.split("."),b=s,c;c=a.shift();)if(t(b[c]))b=b[c];else return k;return b},ca=function(){},da=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";
        if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},u=function(a){return a!==i},ea=function(a){return a===k},t=function(a){return a!=k},v=function(a){return"array"==da(a)},fa=function(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length},x=function(a){return"string"==typeof a},ga=function(a){return"function"==
        da(a)},ha=function(a){var b=typeof a;return"object"==b&&a!=k||"function"==b},ka=function(a){return a[ia]||(a[ia]=++ja)},ia="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ja=0,la=function(a,b,c){return a.call.apply(a.bind,arguments)},ma=function(a,b,c){a||f(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,
        arguments)}},y=function(a,b,c){y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return y.apply(k,arguments)},na=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},z=Date.now||function(){return+new Date},oa=function(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&
        u(b)?d[e]=b:d=d[e]?d[e]:d[e]={}},A=function(a,b){function c(){}c.prototype=b.prototype;a.n=b.prototype;a.prototype=new c;a.prototype.constructor=a};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return y.apply(k,c)}return y(this,a)};var pa=function(a){Error.captureStackTrace?Error.captureStackTrace(this,pa):this.stack=Error().stack||"";a&&(this.message=""+a)};A(pa,Error);pa.prototype.name="CustomError";var qa=function(a,b){for(var c=1;c<arguments.length;c++)var d=(""+arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a},ra=/^[a-zA-Z0-9\-_.!~*'()]*$/,sa=function(a){a=""+a;return!ra.test(a)?encodeURIComponent(a):a},za=function(a){if(!ta.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ua,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(va,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(xa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"&quot;"));return a},ua=/&/g,va=/</g,xa=/>/g,ya=/\"/g,ta=/[&<>\"]/,
        Aa=function(a){1024<a.length&&(a=a.substring(0,1021)+"...");return a},Ba=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^z()).toString(36)};var Ca=function(a,b){b.unshift(a);pa.call(this,qa.apply(k,b));b.shift()};A(Ca,pa);Ca.prototype.name="AssertionError";var Da=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),e="Assertion failed";if(b)var e=e+(": "+b),g=d;f(new Ca(""+e,g||[]))}},Ea=function(a,b){f(new Ca("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var C=Array.prototype,Fa=C.indexOf?function(a,b,c){Da(a.length!=k);return C.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(x(a))return!x(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=C.forEach?function(a,b,c){Da(a.length!=k);C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Ha=function(a,b){for(var c=x(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&
    b.call(i,c[d],d,a)},Ia=C.some?function(a,b,c){Da(a.length!=k);return C.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return j;return o},Ja=C.every?function(a,b,c){Da(a.length!=k);return C.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return o;return j},Ka=function(a,b){var c=Fa(a,b);0<=c&&(Da(a.length!=k),C.splice.call(a,c,1))},La=function(a){return C.concat.apply(C,
        arguments)},Ma=function(a){if(v(a))return La(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b},Na=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(v(d)||(e=fa(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,l=0;l<h;l++)a[g+l]=d[l];else a.push(d)}},Oa=function(a,b,c){Da(a.length!=k);return 2>=arguments.length?C.slice.call(a,b):C.slice.call(a,b,c)},Qa=function(a,b){if(!fa(a)||!fa(b)||a.length!=b.length)return o;for(var c=a.length,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         d=Pa,e=0;e<c;e++)if(!d(a[e],b[e]))return o;return j},Pa=function(a,b){return a===b};var Ra,Sa,Ua,Va,Wa=function(){return s.navigator?s.navigator.userAgent:k};Va=Ua=Sa=Ra=o;var Xa;if(Xa=Wa()){var Ya=s.navigator;Ra=0==Xa.indexOf("Opera");Sa=!Ra&&-1!=Xa.indexOf("MSIE");Ua=!Ra&&-1!=Xa.indexOf("WebKit");Va=!Ra&&!Ua&&"Gecko"==Ya.product}var Za=Ra,D=Sa,$a=Va,E=Ua,ab;
    a:{var bb="",cb;if(Za&&s.opera)var db=s.opera.version,bb="function"==typeof db?db():db;else if($a?cb=/rv\:([^\);]+)(\)|;)/:D?cb=/MSIE\s+([^\);]+)(\)|;)/:E&&(cb=/WebKit\/(\S+)/),cb)var eb=cb.exec(Wa()),bb=eb?eb[1]:"";if(D){var fb,gb=s.document;fb=gb?gb.documentMode:i;if(fb>parseFloat(bb)){ab=""+fb;break a}}ab=bb}
    var hb=ab,ib={},jb=function(a){var b;if(!(b=ib[a])){b=0;for(var c=(""+hb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",l=d[g]||"",n=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var q=n.exec(h)||["","",""],w=m.exec(l)||["","",""];if(0==q[0].length&&0==w[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==w[1].length?0:parseInt(w[1],10))?-1:(0==q[1].length?
        0:parseInt(q[1],10))>(0==w[1].length?0:parseInt(w[1],10))?1:0)||((0==q[2].length)<(0==w[2].length)?-1:(0==q[2].length)>(0==w[2].length)?1:0)||(q[2]<w[2]?-1:q[2]>w[2]?1:0)}while(0==b)}b=ib[a]=0<=b}return b},kb={},lb=function(a){return kb[a]||(kb[a]=D&&!!document.documentMode&&document.documentMode>=a)};var mb=k,nb=k,ob=k;var pb=function(a,b){for(var c in a)b.call(i,a[c],c,a)},qb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},rb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},sb=function(a,b,c){b in a&&f(Error('The object already contains the key "'+b+'"'));a[b]=c},tb=function(a){var b={},c;for(c in a)b[c]=a[c];return b},ub="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];
        for(c in d)a[c]=d[c];for(var g=0;g<ub.length;g++)c=ub[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var wb,xb=!D||lb(9);!$a&&!D||D&&lb(9)||$a&&jb("1.9.1");D&&jb("9");var yb=function(a,b){var c;c=a.className;c=x(c)&&c.match(/\S+/g)||[];for(var d=Oa(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)0<=Fa(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e};var Ab=function(a){return a?new zb(9==a.nodeType?a:a.ownerDocument||a.document):wb||(wb=new zb)},Bb=function(a,b){var c=b&&"*"!=b?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!E||"CSS1Compat"==document.compatMode||jb("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")},Db=function(a,b){pb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Cb?a.setAttribute(Cb[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})},
        Cb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"},Fb=function(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var g=c[e];fa(g)&&!(ha(g)&&0<g.nodeType)?Ga(Eb(g)?Ma(g):g,d):d(g)}},Hb=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):k},Eb=function(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==
            typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return o},zb=function(a){this.Xa=a||s.document||document};r=zb.prototype;
    r.Wj=function(a,b,c){var d=this.Xa,e=arguments,g=e[0],h=e[1];if(!xb&&h&&(h.name||h.type)){g=["<",g];h.name&&g.push(' name="',za(h.name),'"');if(h.type){g.push(' type="',za(h.type),'"');var l={};vb(l,h);h=l;delete h.type}g.push(">");g=g.join("")}g=d.createElement(g);h&&(x(h)?g.className=h:v(h)?yb.apply(k,[g].concat(h)):Db(g,h));2<e.length&&Fb(d,g,e);return g};r.createElement=function(a){return this.Xa.createElement(a)};r.createTextNode=function(a){return this.Xa.createTextNode(a)};
    r.D=function(){return this.Xa.parentWindow||this.Xa.defaultView};r.appendChild=function(a,b){a.appendChild(b)};r.removeNode=Hb;r.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var Ib=function(){};Ib.prototype.Jb=o;Ib.prototype.M=function(){this.Jb||(this.Jb=j,this.h())};var Jb=function(a,b){a.hf||(a.hf=[]);a.hf.push(b)};Ib.prototype.h=function(){this.hf&&Kb.apply(k,this.hf)};var F=function(a){a&&"function"==typeof a.M&&a.M()},Kb=function(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];fa(d)?Kb.apply(k,d):F(d)}};var Lb=function(a){Lb[" "](a);return a};Lb[" "]=ca;var Mb=function(a,b){try{return Lb(a[b]),j}catch(c){}return o};!D||lb(9);var Nb=!D||lb(9),Ob=D&&!jb("8");!E||jb("528");$a&&jb("1.9b")||D&&jb("8")||Za&&jb("9.5")||E&&jb("528");$a&&!jb("8")||D&&jb("9");var G=function(a,b){this.type=a;this.currentTarget=this.target=b};A(G,Ib);r=G.prototype;r.h=function(){delete this.type;delete this.target;delete this.currentTarget};r.Mc=o;r.defaultPrevented=o;r.Ze=j;r.preventDefault=function(){this.defaultPrevented=j;this.Ze=o};var Pb=function(a,b){a&&this.Sd(a,b)};A(Pb,G);r=Pb.prototype;r.target=k;r.relatedTarget=k;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=o;r.altKey=o;r.shiftKey=o;r.metaKey=o;r.Rd=k;
    r.Sd=function(a,b){var c=this.type=a.type;G.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?$a&&(Mb(d,"nodeName")||(d=k)):"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=E||a.offsetX!==i?a.offsetX:a.layerX;this.offsetY=E||a.offsetY!==i?a.offsetY:a.layerY;this.clientX=a.clientX!==i?a.clientX:a.pageX;this.clientY=a.clientY!==i?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=
        a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Rd=a;a.defaultPrevented&&this.preventDefault();delete this.Mc};r.preventDefault=function(){Pb.n.preventDefault.call(this);var a=this.Rd;if(a.preventDefault)a.preventDefault();else if(a.returnValue=o,Ob)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};
    r.h=function(){Pb.n.h.call(this);this.relatedTarget=this.currentTarget=this.target=this.Rd=k};var Qb=function(){},Rb=0;r=Qb.prototype;r.key=0;r.Lc=o;r.Vg=o;r.Sd=function(a,b,c,d,e,g){ga(a)?this.jk=j:a&&a.handleEvent&&ga(a.handleEvent)?this.jk=o:f(Error("Invalid listener argument"));this.Vd=a;this.Qj=b;this.src=c;this.type=d;this.capture=!!e;this.Hg=g;this.Vg=o;this.key=++Rb;this.Lc=o};r.handleEvent=function(a){return this.jk?this.Vd.call(this.Hg||this.src,a):this.Vd.handleEvent.call(this.Vd,a)};var Sb={},Tb={},Ub={},Vb={},Wb=function(a,b,c,d,e){if(b){if(v(b)){for(var g=0;g<b.length;g++)Wb(a,b[g],c,d,e);return k}var d=!!d,h=Tb;b in h||(h[b]={l:0,Ca:0});h=h[b];d in h||(h[d]={l:0,Ca:0},h.l++);var h=h[d],l=ka(a),n;h.Ca++;if(h[l]){n=h[l];for(g=0;g<n.length;g++)if(h=n[g],h.Vd==c&&h.Hg==e){if(h.Lc)break;return n[g].key}}else n=h[l]=[],h.l++;g=Xb();g.src=a;h=new Qb;h.Sd(c,g,a,b,d,e);c=h.key;g.key=c;n.push(h);Sb[c]=h;Ub[l]||(Ub[l]=[]);Ub[l].push(h);a.addEventListener?(a==s||!a.Pj)&&a.addEventListener(b,
        g,d):a.attachEvent(b in Vb?Vb[b]:Vb[b]="on"+b,g);return c}f(Error("Invalid event type"))},Xb=function(){var a=Yb,b=Nb?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b},Zb=function(a,b,c,d,e){if(v(b)){for(var g=0;g<b.length;g++)Zb(a,b[g],c,d,e);return k}a=Wb(a,b,c,d,e);Sb[a].Vg=j;return a},$b=function(a,b,c,d,e){if(v(b))for(var g=0;g<b.length;g++)$b(a,b[g],c,d,e);else{d=!!d;a:{g=Tb;if(b in g&&(g=g[b],d in g&&(g=g[d],a=ka(a),g[a]))){a=g[a];break a}a=
        k}if(a)for(g=0;g<a.length;g++)if(a[g].Vd==c&&a[g].capture==d&&a[g].Hg==e){ac(a[g].key);break}}},ac=function(a){if(!Sb[a])return o;var b=Sb[a];if(b.Lc)return o;var c=b.src,d=b.type,e=b.Qj,g=b.capture;c.removeEventListener?(c==s||!c.Pj)&&c.removeEventListener(d,e,g):c.detachEvent&&c.detachEvent(d in Vb?Vb[d]:Vb[d]="on"+d,e);c=ka(c);e=Tb[d][g][c];if(Ub[c]){var h=Ub[c];Ka(h,b);0==h.length&&delete Ub[c]}b.Lc=j;e.Sj=j;bc(d,g,c,e);delete Sb[a];return j},bc=function(a,b,c,d){if(!d.Ye&&d.Sj){for(var e=0,g=
        0;e<d.length;e++)d[e].Lc?d[e].Qj.src=k:(e!=g&&(d[g]=d[e]),g++);d.length=g;d.Sj=o;0==g&&(delete Tb[a][b][c],Tb[a][b].l--,0==Tb[a][b].l&&(delete Tb[a][b],Tb[a].l--),0==Tb[a].l&&delete Tb[a])}},cc=function(a){var b,c=0,d=b==k;b=!!b;if(a==k)pb(Ub,function(a){for(var e=a.length-1;0<=e;e--){var g=a[e];if(d||b==g.capture)ac(g.key),c++}});else if(a=ka(a),Ub[a])for(var a=Ub[a],e=a.length-1;0<=e;e--){var g=a[e];if(d||b==g.capture)ac(g.key),c++}},dc=function(a,b){var c=ka(a),d=Ub[c];if(d){var e=u(b),g=u(i);
        return e&&g?(d=Tb[b],!!d&&!!d[i]&&c in d[i]):!e&&!g?j:Ia(d,function(a){return e&&a.type==b||g&&a.capture==i})}return o},fc=function(a,b,c,d,e){var g=1,b=ka(b);if(a[b]){a.Ca--;a=a[b];a.Ye?a.Ye++:a.Ye=1;try{for(var h=a.length,l=0;l<h;l++){var n=a[l];n&&!n.Lc&&(g&=ec(n,e)!==o)}}finally{a.Ye--,bc(c,d,b,a)}}return Boolean(g)},ec=function(a,b){var c=a.handleEvent(b);a.Vg&&ac(a.key);return c},Yb=function(a,b){if(!Sb[a])return j;var c=Sb[a],d=c.type,e=Tb;if(!(d in e))return j;var e=e[d],g,h;if(!Nb){g=b||
        ba("window.event");var l=j in e,n=o in e;if(l){if(0>g.keyCode||g.returnValue!=i)return j;a:{var m=o;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(q){m=j}if(m||g.returnValue==i)g.returnValue=j}}m=new Pb;m.Sd(g,this);g=j;try{if(l){for(var w=[],P=m.currentTarget;P;P=P.parentNode)w.push(P);h=e[j];h.Ca=h.l;for(var B=w.length-1;!m.Mc&&0<=B&&h.Ca;B--)m.currentTarget=w[B],g&=fc(h,w[B],d,j,m);if(n){h=e[o];h.Ca=h.l;for(B=0;!m.Mc&&B<w.length&&h.Ca;B++)m.currentTarget=w[B],g&=fc(h,w[B],d,o,m)}}else g=ec(c,m)}finally{w&&
        (w.length=0),m.M()}return g}d=new Pb(b,this);try{g=ec(c,d)}finally{d.M()}return g};var gc=function(a){a=""+a;if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}f(Error("Invalid JSON string: "+a))},hc=function(a){return eval("("+a+")")},kc=function(a){var b=[];ic(new jc,a,b);return b.join("")},jc=function(){this.kf=i},ic=function(a,b,c){switch(typeof b){case "string":lc(b,
        c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==k){c.push("null");break}if(v(b)){var d=b.length;c.push("[");for(var e="",g=0;g<d;g++)c.push(e),e=b[g],ic(a,a.kf?a.kf.call(b,""+g,e):e,c),e=",";c.push("]");break}c.push("{");d="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(e=b[g],"function"!=typeof e&&(c.push(d),lc(g,c),c.push(":"),ic(a,a.kf?a.kf.call(b,g,e):e,c),d=","));c.push("}");
        break;case "function":break;default:f(Error("Unknown type: "+typeof b))}},mc={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},nc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,lc=function(a,b){b.push('"',a.replace(nc,function(a){if(a in mc)return mc[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return mc[a]=e+b.toString(16)}),'"')};var oc="StopIteration"in s?s.StopIteration:Error("StopIteration"),pc=function(){};pc.prototype.next=function(){f(oc)};pc.prototype.Zd=function(){return this};
    var qc=function(a){if(a instanceof pc)return a;if("function"==typeof a.Zd)return a.Zd(o);if(fa(a)){var b=0,c=new pc;c.next=function(){for(;;){b>=a.length&&f(oc);if(b in a)return a[b++];b++}};return c}f(Error("Not implemented"))},rc=function(a,b){if(fa(a))try{Ga(a,b,i)}catch(c){c!==oc&&f(c)}else{a=qc(a);try{for(;;)b.call(i,a.next(),i,a)}catch(d){d!==oc&&f(d)}}};var sc=function(a){if("function"==typeof a.U)a=a.U();else if(fa(a)||x(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a},tc=function(a){if("function"==typeof a.ga)return a.ga();if(x(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return qb(a)},uc=function(a){if("function"==typeof a.Va)return a.Va();if("function"!=typeof a.ga){if(fa(a)||x(a)){for(var b=[],a=a.length,c=0;c<a;c++)b.push(c);return b}return rb(a)}},vc=function(a,b,c){if("function"==typeof a.forEach)a.forEach(b,
        c);else if(fa(a)||x(a))Ga(a,b,c);else for(var d=uc(a),e=tc(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)},wc=function(a,b){if("function"==typeof a.every)return a.every(b,i);if(fa(a)||x(a))return Ja(a,b,i);for(var c=uc(a),d=tc(a),e=d.length,g=0;g<e;g++)if(!b.call(i,d[g],c&&c[g],a))return o;return j};var H=function(a,b){this.r={};this.I=[];var c=arguments.length;if(1<c){c%2&&f(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.Lg(a)};r=H.prototype;r.l=0;r.vb=0;r.U=function(){return this.l};r.ga=function(){xc(this);for(var a=[],b=0;b<this.I.length;b++)a.push(this.r[this.I[b]]);return a};r.Va=function(){xc(this);return this.I.concat()};r.$=function(a){return yc(this.r,a)};
    r.Wg=function(a){for(var b=0;b<this.I.length;b++){var c=this.I[b];if(yc(this.r,c)&&this.r[c]==a)return j}return o};r.hc=function(a,b){if(this===a)return j;if(this.l!=a.U())return o;var c=b||zc;xc(this);for(var d,e=0;d=this.I[e];e++)if(!c(this.get(d),a.get(d)))return o;return j};var zc=function(a,b){return a===b};H.prototype.fb=function(){return 0==this.l};H.prototype.clear=function(){this.r={};this.vb=this.l=this.I.length=0};
    H.prototype.remove=function(a){return yc(this.r,a)?(delete this.r[a],this.l--,this.vb++,this.I.length>2*this.l&&xc(this),j):o};var xc=function(a){if(a.l!=a.I.length){for(var b=0,c=0;b<a.I.length;){var d=a.I[b];yc(a.r,d)&&(a.I[c++]=d);b++}a.I.length=c}if(a.l!=a.I.length){for(var e={},c=b=0;b<a.I.length;)d=a.I[b],yc(e,d)||(a.I[c++]=d,e[d]=1),b++;a.I.length=c}};r=H.prototype;r.get=function(a,b){return yc(this.r,a)?this.r[a]:b};
    r.set=function(a,b){yc(this.r,a)||(this.l++,this.I.push(a),this.vb++);this.r[a]=b};r.Lg=function(a){var b;a instanceof H?(b=a.Va(),a=a.ga()):(b=rb(a),a=qb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};r.O=function(){return new H(this)};r.Zd=function(a){xc(this);var b=0,c=this.I,d=this.r,e=this.vb,g=this,h=new pc;h.next=function(){for(;;){e!=g.vb&&f(Error("The map has changed since the iterator was created"));b>=c.length&&f(oc);var h=c[b++];return a?h:d[h]}};return h};
    var yc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ac=function(a){this.r=new H;a&&this.Lg(a)},Bc=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ka(a):b.substr(0,1)+a};r=Ac.prototype;r.U=function(){return this.r.U()};r.add=function(a){this.r.set(Bc(a),a)};r.Lg=function(a){for(var a=tc(a),b=a.length,c=0;c<b;c++)this.add(a[c])};r.wg=function(a){for(var a=tc(a),b=a.length,c=0;c<b;c++)this.remove(a[c])};r.remove=function(a){return this.r.remove(Bc(a))};r.clear=function(){this.r.clear()};r.fb=function(){return this.r.fb()};
    r.contains=function(a){return this.r.$(Bc(a))};r.ga=function(){return this.r.ga()};r.O=function(){return new Ac(this)};r.hc=function(a){return this.U()==sc(a)&&Cc(this,a)};var Cc=function(a,b){var c=sc(b);if(a.U()>c)return o;!(b instanceof Ac)&&5<c&&(b=new Ac(b));return wc(a,function(a){if("function"==typeof b.contains)a=b.contains(a);else if("function"==typeof b.Wg)a=b.Wg(a);else if(fa(b)||x(b))a=0<=Fa(b,a);else a:{for(var c in b)if(b[c]==a){a=j;break a}a=o}return a})};Ac.prototype.Zd=function(){return this.r.Zd(o)};var Ec=function(a){return Dc(a||arguments.callee.caller,[])},Dc=function(a,b){var c=[];if(0<=Fa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Fc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=""+g;break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Fc(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);
        c.push(")\n");try{c.push(Dc(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Fc=function(a){if(Gc[a])return Gc[a];a=""+a;if(!Gc[a]){var b=/function ([^\(]+)/.exec(a);Gc[a]=b?b[1]:"[Anonymous]"}return Gc[a]},Gc={};var Hc=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Hc.prototype.Nd=0;Hc.prototype.dk=k;Hc.prototype.ck=k;var Ic=0;Hc.prototype.reset=function(a,b,c,d,e){this.Nd="number"==typeof e?e:Ic++;d||z();this.cc=a;this.Oc=b;delete this.dk;delete this.ck};Hc.prototype.ti=function(){return this.cc};Hc.prototype.qk=function(a){this.cc=a};Hc.prototype.tk=function(){return this.Oc};var Jc=function(a){this.Ha=a};Jc.prototype.df=k;Jc.prototype.cc=k;Jc.prototype.Yg=k;Jc.prototype.uk=k;var Kc=function(a,b){this.name=a;this.value=b};Kc.prototype.toString=function(){return this.name};var Lc=new Kc("SEVERE",1E3),Mc=new Kc("WARNING",900),Nc=new Kc("INFO",800),Oc=new Kc("CONFIG",700),Pc=new Kc("FINE",500),Qc=new Kc("FINEST",300),Rc=function(a){s.console&&(s.console.timeStamp?s.console.timeStamp(a):s.console.markTimeline&&s.console.markTimeline(a));s.msWriteProfilerMark&&s.msWriteProfilerMark(a)};
    Jc.prototype.getName=function(){return this.Ha};Jc.prototype.getParent=function(){return this.df};Jc.prototype.qk=function(a){this.cc=a};Jc.prototype.ti=function(){return this.cc};var Sc=function(a){if(a.cc)return a.cc;if(a.df)return Sc(a.df);Ea("Root logger has no level set.");return k};r=Jc.prototype;r.log=function(a,b,c){a.value>=Sc(this).value&&Tc(this,this.ui(a,b,c))};
    r.ui=function(a,b,c){var d=new Hc(a,""+b,this.Ha);if(c){d.dk=c;var e;var g=arguments.callee.caller;try{var h;var l=ba("window.location.href");if(x(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:l,stack:"Not available"};else{var n,m,q=o;try{n=c.lineNumber||c.Mo||"Not available"}catch(w){n="Not available",q=j}try{m=c.fileName||c.filename||c.sourceURL||l}catch(P){m="Not available",q=j}h=q||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:n,fileName:m,
        stack:c.stack||"Not available"}:c}e="Message: "+za(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+za(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+za(Ec(g)+"-> ")}catch(B){e="Exception trying to expose exception! You win, we lose. "+B}d.ck=e}return d};r.o=function(a,b){this.log(Lc,a,b)};r.z=function(a,b){this.log(Mc,a,b)};r.info=function(a,b){this.log(Nc,a,b)};
    var I=function(a,b){a.log(Pc,b,i)},J=function(a,b){a.log(Qc,b,i)},Tc=function(a,b){Rc("log:"+b.tk());for(var c=a;c;){var d=c,e=b;if(d.uk)for(var g=0,h=i;h=d.uk[g];g++)h(e);c=c.getParent()}},Uc={},Vc=k,K=function(a){Vc||(Vc=new Jc(""),Uc[""]=Vc,Vc.qk(Oc));var b;if(!(b=Uc[a])){b=new Jc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=K(a.substr(0,c));c.Yg||(c.Yg={});c.Yg[d]=b;b.df=c;Uc[a]=b}return b};var Wc=function(){this.qa={}};A(Wc,Ib);r=Wc.prototype;r.Ke=K("goog.messaging.AbstractChannel");r.X=function(a){a&&a()};r.za=function(){return j};r.ca=function(a,b,c){this.qa[a]={Bg:b,yj:!!c}};r.h=function(){Wc.n.h.call(this);F(this.Ke);delete this.Ke;delete this.qa;delete this.Ni};var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Zc=function(a){if(Yc){Yc=o;var b=s.location;if(b){var c=b.href;if(c&&(c=(c=Zc(c)[3]||k)&&decodeURIComponent(c))&&c!=b.hostname)Yc=j,f(Error())}}return a.match(Xc)},Yc=E,$c=function(a){var b=Zc(a),a=b[1],c=b[2],d=b[3],b=b[4],e=[];a&&e.push(a,":");d&&(e.push("//"),c&&e.push(c,"@"),e.push(d),b&&e.push(":",b));return e.join("")};var L=function(a,b){var c;a instanceof L?(this.Jc(b==k?a.Wa:b),ad(this,a.da),bd(this,a.Ob),cd(this,a.K()),dd(this,a.ya),ed(this,a.J),fd(this,a.S.O()),gd(this,a.Nb)):a&&(c=Zc(""+a))?(this.Jc(!!b),ad(this,c[1]||"",j),bd(this,c[2]||"",j),cd(this,c[3]||"",j),dd(this,c[4]),ed(this,c[5]||"",j),this.Rc(c[6]||"",j),gd(this,c[7]||"",j)):(this.Jc(!!b),this.S=new hd(k,this,this.Wa))};r=L.prototype;r.da="";r.Ob="";r.Y="";r.ya=k;r.J="";r.Nb="";r.nn=o;r.Wa=o;
    r.toString=function(){if(this.Ba)return this.Ba;var a=[];this.da&&a.push(id(this.da,jd),":");this.Y&&(a.push("//"),this.Ob&&a.push(id(this.Ob,jd),"@"),a.push(x(this.Y)?encodeURIComponent(this.Y):k),this.ya!=k&&a.push(":",""+this.ya));this.J&&(this.Y&&"/"!=this.J.charAt(0)&&a.push("/"),a.push(id(this.J,"/"==this.J.charAt(0)?kd:ld)));var b=""+this.S;b&&a.push("?",b);this.Nb&&a.push("#",id(this.Nb,md));return this.Ba=a.join("")};
    r.O=function(){return nd(this.da,this.Ob,this.Y,this.ya,this.J,this.S.O(),this.Nb,this.Wa)};var ad=function(a,b,c){od(a);delete a.Ba;a.da=c?b?decodeURIComponent(b):"":b;a.da&&(a.da=a.da.replace(/:$/,""))},bd=function(a,b,c){od(a);delete a.Ba;a.Ob=c?b?decodeURIComponent(b):"":b};L.prototype.K=function(){return this.Y};
    var cd=function(a,b,c){od(a);delete a.Ba;a.Y=c?b?decodeURIComponent(b):"":b},dd=function(a,b){od(a);delete a.Ba;b?(b=Number(b),(isNaN(b)||0>b)&&f(Error("Bad port number "+b)),a.ya=b):a.ya=k},ed=function(a,b,c){od(a);delete a.Ba;a.J=c?b?decodeURIComponent(b):"":b},fd=function(a,b,c){od(a);delete a.Ba;b instanceof hd?(a.S=b,a.S.Eb=a,a.S.Jc(a.Wa)):(c||(b=id(b,pd)),a.S=new hd(b,a,a.Wa));return a};L.prototype.Rc=function(a,b){return fd(this,a,b)};
    var qd=function(a){a=a.S;a.Nc||(a.Nc=a.toString()?decodeURIComponent(a.toString()):"");return a.Nc};L.prototype.bd=function(){return this.S.toString()};
    var M=function(a,b,c){od(a);delete a.Ba;a.S.set(b,c)},ud=function(a,b,c){od(a);delete a.Ba;v(c)||(c=[""+c]);a=a.S;rd(a);sd(a);b=td(a,b);if(a.$(b)){var d=a.F.get(b);v(d)?a.l-=d.length:a.l--}0<c.length&&(a.F.set(b,c),a.l+=c.length)},gd=function(a,b,c){od(a);delete a.Ba;a.Nb=c?b?decodeURIComponent(b):"":b},vd=function(a){od(a);M(a,"zx",Ba());return a},od=function(a){a.nn&&f(Error("Tried to modify a read-only Uri"))};L.prototype.Jc=function(a){this.Wa=a;this.S&&this.S.Jc(a);return this};
    var wd=function(a,b){return a instanceof L?a.O():new L(a,b)},nd=function(a,b,c,d,e,g,h,l){l=new L(k,l);a&&ad(l,a);b&&bd(l,b);c&&cd(l,c);d&&dd(l,d);e&&ed(l,e);g&&fd(l,g);h&&gd(l,h);return l},xd=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,id=function(a,b){var c=k;x(a)&&(c=a,xd.test(c)||(c=encodeURI(a)),0<=c.search(b)&&(c=c.replace(b,yd)));return c},yd=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},jd=/[#\/\?@]/g,ld=/[\#\?:]/g,kd=/[\#\?]/g,pd=/[\#\?@]/g,md=/#/g,hd=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        b,c){this.nb=a||k;this.Eb=b||k;this.Wa=!!c},rd=function(a){if(!a.F&&(a.F=new H,a.l=0,a.nb))for(var b=a.nb.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=k,g=k;0<=d?(e=b[c].substring(0,d),g=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=td(a,e);a.add(e,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};r=hd.prototype;r.F=k;r.l=k;r.U=function(){rd(this);return this.l};
    r.add=function(a,b){rd(this);sd(this);a=td(this,a);if(this.$(a)){var c=this.F.get(a);v(c)?c.push(b):this.F.set(a,[c,b])}else this.F.set(a,b);this.l++;return this};r.remove=function(a){rd(this);a=td(this,a);if(this.F.$(a)){sd(this);var b=this.F.get(a);v(b)?this.l-=b.length:this.l--;return this.F.remove(a)}return o};r.clear=function(){sd(this);this.F&&this.F.clear();this.l=0};r.fb=function(){rd(this);return 0==this.l};r.$=function(a){rd(this);a=td(this,a);return this.F.$(a)};
    r.Wg=function(a){var b=this.ga();return 0<=Fa(b,a)};r.Va=function(){rd(this);for(var a=this.F.ga(),b=this.F.Va(),c=[],d=0;d<b.length;d++){var e=a[d];if(v(e))for(var g=0;g<e.length;g++)c.push(b[d]);else c.push(b[d])}return c};r.ga=function(a){rd(this);var b=[];if(a)a=td(this,a),this.$(a)&&(b=La(b,this.F.get(a)));else for(var a=this.F.ga(),c=0;c<a.length;c++)b=La(b,a[c]);return b};
    r.set=function(a,b){rd(this);sd(this);a=td(this,a);if(this.$(a)){var c=this.F.get(a);v(c)?this.l-=c.length:this.l--}this.F.set(a,b);this.l++;return this};r.get=function(a,b){rd(this);a=td(this,a);if(this.$(a)){var c=this.F.get(a);return v(c)?c[0]:c}return b};
    r.toString=function(){if(this.nb)return this.nb;if(!this.F)return"";for(var a=[],b=0,c=this.F.Va(),d=0;d<c.length;d++){var e=c[d],g=sa(e),e=this.F.get(e);if(v(e))for(var h=0;h<e.length;h++)0<b&&a.push("&"),a.push(g),""!==e[h]&&a.push("=",sa(e[h])),b++;else 0<b&&a.push("&"),a.push(g),""!==e&&a.push("=",sa(e)),b++}return this.nb=a.join("")};var sd=function(a){delete a.Nc;delete a.nb;a.Eb&&delete a.Eb.Ba};
    hd.prototype.O=function(){var a=new hd;this.Nc&&(a.Nc=this.Nc);this.nb&&(a.nb=this.nb);this.F&&(a.F=this.F.O());return a};var td=function(a,b){var c=""+b;a.Wa&&(c=c.toLowerCase());return c};hd.prototype.Jc=function(a){a&&!this.Wa&&(rd(this),sd(this),vc(this.F,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.add(d,a))},this));this.Wa=a};var zd={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport"},Ad=["pu","lru","pru","lpu","ppu"],Bd={},Dd=function(a){for(var b=Cd,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d},Cd="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",N=K("goog.net.xpc");var Ed=function(a){this.oa=a||Ab()};A(Ed,Ib);Ed.prototype.dc=0;Ed.prototype.cf=function(){return this.dc};Ed.prototype.D=function(){return this.oa.D()};Ed.prototype.getName=function(){return zd[this.dc]||""};var Fd=function(a,b){this.oa=b||Ab();this.b=a;this.Id=[];this.zl=y(this.im,this)};A(Fd,Ed);r=Fd.prototype;r.dc=2;r.yg=o;r.Oa=0;r.X=function(){0==Gd(this.b)?(this.mb=this.b.yc,this.mb.XPC_toOuter=y(this.Wi,this)):this.Vi()};
    r.Vi=function(){var a=j;try{if(this.mb||(this.mb=this.D().frameElement),this.mb&&this.mb.XPC_toOuter)this.gg=this.mb.XPC_toOuter,this.mb.XPC_toOuter.XPC_toInner=y(this.Wi,this),a=o,this.send("tp","SETUP_ACK"),Hd(this.b)}catch(b){N.o("exception caught while attempting setup: "+b)}a&&(this.bj||(this.bj=y(this.Vi,this)),this.D().setTimeout(this.bj,100))};r.Dg=function(a){0==Gd(this.b)&&!this.b.za()&&"SETUP_ACK"==a?(this.gg=this.mb.XPC_toOuter.XPC_toInner,Hd(this.b)):f(Error("Got unexpected transport message."))};
    r.Wi=function(a,b){!this.yg&&0==this.Id.length?this.b.lb(a,b):(this.Id.push({El:a,rg:b}),1==this.Id.length&&(this.Oa=this.D().setTimeout(this.zl,1)))};r.im=function(){for(;this.Id.length;){var a=this.Id.shift();this.b.lb(a.El,a.rg)}};r.send=function(a,b){this.yg=j;this.gg(a,b);this.yg=o};r.h=function(){Fd.n.h.call(this);this.mb=this.gg=k};var O=function(a,b){this.oa=b||Ab();this.b=a;this.Bd=this.b.C.ppu;this.Yl=this.b.C.lpu;this.Qe=[]},Id,Jd;A(O,Ed);O.prototype.dc=4;O.prototype.Se=0;O.prototype.Fc=o;O.prototype.va=o;var Kd=function(a){return"googlexpc_"+a.b.name+"_msg"},Ld=function(a){return"googlexpc_"+a.b.name+"_ack"};
    O.prototype.X=function(){if(!this.Jb){I(N,"transport connect called");if(!this.va){I(N,"initializing...");var a=Kd(this);this.Cc=Md(this,a);this.Zf=this.D().frames[a];a=Ld(this);this.Bc=Md(this,a);this.Yf=this.D().frames[a];this.va=j}if(!Nd(this,Kd(this))||!Nd(this,Ld(this))){J(N,"foreign frames not (yet) present");if(1==Gd(this.b)&&!this.tl)J(N,"innerPeerReconnect called"),this.b.name=Dd(10),J(N,"switching channels: "+this.b.name),Od(this),this.va=o,this.tl=Md(this,"googlexpc_reconnect_"+this.b.name);
    else if(0==Gd(this.b)){J(N,"outerPeerReconnect called");for(var a=this.b.Aa.frames,b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(e){}if(d){var g=d.split("_");if(3==g.length&&"googlexpc"==g[0]&&"reconnect"==g[1]){this.b.name=g[2];Od(this);this.va=o;break}}}}this.D().setTimeout(y(this.X,this),100)}else I(N,"foreign frames present"),this.Fi=new Pd(this,this.b.Aa.frames[Kd(this)],y(this.sl,this)),this.Ei=new Pd(this,this.b.Aa.frames[Ld(this)],y(this.rl,this)),this.Li()}};
    var Md=function(a,b){J(N,"constructing sender frame: "+b);var c=document.createElement("iframe"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.Bd+"#INITIAL";a.D().document.body.appendChild(c);return c},Od=function(a){J(N,"deconstructSenderFrames called");a.Cc&&(a.Cc.parentNode.removeChild(a.Cc),a.Cc=k,a.Zf=k);a.Bc&&(a.Bc.parentNode.removeChild(a.Bc),a.Bc=k,a.Yf=k)},Nd=function(a,b){J(N,"checking for receive frame: "+b);try{var c=a.b.Aa.frames[b];
        if(!c||0!=c.location.href.indexOf(a.Yl))return o}catch(d){return o}return j};O.prototype.Li=function(){var a=this.b.Aa.frames;!a[Ld(this)]||!a[Kd(this)]?(this.fj||(this.fj=y(this.Li,this)),this.D().setTimeout(this.fj,100),I(N,"local frames not (yet) present")):(this.Zi=new Qd(this.Bd,this.Zf),this.Me=new Qd(this.Bd,this.Yf),I(N,"local frames ready"),this.D().setTimeout(y(function(){this.Zi.send("SETUP");this.Fc=j;I(N,"SETUP sent")},this),100))};
    var Rd=function(a){if(a.ug&&a.$i){if(Hd(a.b),a.Kc){I(N,"delivering queued messages ("+a.Kc.length+")");for(var b=0,c;b<a.Kc.length;b++)c=a.Kc[b],a.b.lb(c.bm,c.rg);delete a.Kc}}else J(N,"checking if connected: ack sent:"+a.ug+", ack rcvd: "+a.$i)};
    O.prototype.sl=function(a){J(N,"msg received: "+a);if("SETUP"==a)this.Me&&(this.Me.send("SETUP_ACK"),J(N,"SETUP_ACK sent"),this.ug=j,Rd(this));else if(this.b.za()||this.ug){var b=a.indexOf("|"),c=a.substring(0,b),a=a.substring(b+1),b=c.indexOf(",");if(-1==b){var d;this.Me.send("ACK:"+c);Sd(this,a)}else if(d=c.substring(0,b),this.Me.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.Cg=[]),this.Cg.push(a),b==c)Sd(this,this.Cg.join("")),delete this.Cg}else N.z("received msg, but channel is not connected")};
    O.prototype.rl=function(a){J(N,"ack received: "+a);"SETUP_ACK"==a?(this.Fc=o,this.$i=j,Rd(this)):this.b.za()?this.Fc?parseInt(a.split(":")[1],10)==this.Se?(this.Fc=o,Td(this)):N.z("got ack with wrong sequence"):N.z("got unexpected ack"):N.z("received ack, but channel not connected")};
    var Td=function(a){if(!a.Fc&&a.Qe.length){var b=a.Qe.shift();++a.Se;a.Zi.send(a.Se+b);J(N,"msg sent: "+a.Se+b);a.Fc=j}},Sd=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),c=b.substring(c+1);a.b.za()?a.b.lb(d,c):((a.Kc||(a.Kc=[])).push({bm:d,rg:c}),J(N,"queued delivery"))};O.prototype.ff=3800;
    O.prototype.send=function(a,b){var c=a+":"+b;if(!D||b.length<=this.ff)this.Qe.push("|"+c);else for(var d=b.length,e=Math.ceil(d/this.ff),g=0,h=1;g<d;)this.Qe.push(","+h+"/"+e+"|"+c.substr(g,this.ff)),h++,g+=this.ff;Td(this)};O.prototype.h=function(){O.n.h.call(this);var a=Ud;Ka(a,this.Fi);Ka(a,this.Ei);this.Fi=this.Ei=k;Hb(this.Cc);Hb(this.Bc);this.Zf=this.Yf=this.Cc=this.Bc=k};
    var Ud=[],Vd=y(function(){var a=o;try{for(var b=0,c=Ud.length;b<c;b++){var d;if(!(d=a)){var e=Ud[b],g=e.Hj.location.href;if(g!=e.Gj){e.Gj=g;var h=g.split("#")[1];h&&(h=h.substr(1),e.hm(decodeURIComponent(h)));d=j}else d=o}a=d}}catch(l){if(N.info("receive_() failed: "+l),b=Ud[b].ea.b,N.info("Transport Error"),b.close(),!Ud.length)return}b=z();a&&(Id=b);Jd=window.setTimeout(Vd,1E3>b-Id?10:100)},O),Wd=function(){I(N,"starting receive-timer");Id=z();Jd&&window.clearTimeout(Jd);Jd=window.setTimeout(Vd,
        10)},Qd=function(a,b){this.Bd=a;this.bk=b;this.Rg=0};Qd.prototype.send=function(a){this.Rg=++this.Rg%2;a=this.Bd+"#"+this.Rg+encodeURIComponent(a);try{E?this.bk.location.href=a:this.bk.location.replace(a)}catch(b){N.o("sending failed",b)}Wd()};var Pd=function(a,b,c){this.ea=a;this.Hj=b;this.hm=c;this.Gj=this.Hj.location.href.split("#")[0]+"#INITIAL";Ud.push(this);Wd()};var Yd=function(a,b){this.oa=b||Ab();this.b=a;this.Cl=this.b.C.pru;this.ej=this.b.C.ifrid;E&&Xd()};A(Yd,Ed);if(E)var Zd=[],$d=0,Xd=function(){$d||($d=window.setTimeout(function(){ae()},1E3))},ae=function(a){for(var b=z(),a=a||3E3;Zd.length&&b-Zd[0].timestamp>=a;){var c=Zd.shift().dm;Hb(c);J(N,"iframe removed")}$d=window.setTimeout(be,1E3)},be=function(){ae()};var ce={};Yd.prototype.dc=3;Yd.prototype.X=function(){this.D().xpcRelay||(this.D().xpcRelay=de);this.send("tp","SETUP")};
    var de=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),e=b.substr(c+1);if(!D||-1==(c=d.indexOf("|")))var g=d;else{var g=d.substr(0,c),d=d.substr(c+1),c=d.indexOf("+"),h=d.substr(0,c),c=parseInt(d.substr(c+1),10),l=ce[h];l||(l=ce[h]={nk:[],ok:0,mk:0});-1!=d.indexOf("++")&&(l.mk=c+1);l.nk[c]=e;l.ok++;if(l.ok!=l.mk)return;e=l.nk.join("");delete ce[h]}Bd[a].lb(g,decodeURIComponent(e))};Yd.prototype.Dg=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),Hd(this.b)):"SETUP_ACK"==a&&Hd(this.b)};
    Yd.prototype.send=function(a,b){var c=encodeURIComponent(b),d=c.length;if(D&&1800<d)for(var e=Ba(),g=0,h=0;g<d;h++){var l=c.substr(g,1800),g=g+1800;ee(this,a,l,e+(g>=d?"++":"+")+h)}else ee(this,a,c)};
    var ee=function(a,b,c,d){if(D){var e=a.D().document.createElement("div");e.innerHTML='<iframe onload="this.xpcOnload()"></iframe>';e=e.childNodes[0];e.xpcOnload=fe}else e=a.D().document.createElement("iframe"),E?Zd.push({timestamp:z(),dm:e}):Wb(e,"load",fe);var g=e.style;g.visibility="hidden";g.width=e.style.height="0px";g.position="absolute";g=a.Cl;g+="#"+a.b.name;a.ej&&(g+=","+a.ej);g+="|"+b;d&&(g+="|"+d);g+=":"+c;e.src=g;a.D().document.body.appendChild(e);J(N,"msg sent: "+g)},fe=function(){J(N,
        "iframe-load");Hb(this)};Yd.prototype.h=function(){Yd.n.h.call(this);E&&ae(0)};var Q=function(a){this.v=a;this.I=[]};A(Q,Ib);var ge=[],R=function(a,b,c,d,e,g){v(c)||(ge[0]=c,c=ge);for(var h=0;h<c.length;h++)a.I.push(Wb(b,c[h],d||a,e||o,g||a.v||a))},he=function(a,b,c,d,e,g){if(v(c))for(var h=0;h<c.length;h++)he(a,b,c[h],d,e,g);else a.I.push(Zb(b,c,d||a,e,g||a.v||a))};Q.prototype.wg=function(){Ga(this.I,ac);this.I.length=0};Q.prototype.h=function(){Q.n.h.call(this);this.wg()};Q.prototype.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};var S=function(){};A(S,Ib);r=S.prototype;r.Pj=j;r.Ag=k;r.addEventListener=function(a,b,c,d){Wb(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){$b(this,a,b,c,d)};
    r.dispatchEvent=function(a){var b=a.type||a,c=Tb;if(b in c){if(x(a))a=new G(a,this);else if(a instanceof G)a.target=a.target||this;else{var d=a,a=new G(b,this);vb(a,d)}var d=1,e,c=c[b],b=j in c,g;if(b){e=[];for(g=this;g;g=g.Ag)e.push(g);g=c[j];g.Ca=g.l;for(var h=e.length-1;!a.Mc&&0<=h&&g.Ca;h--)a.currentTarget=e[h],d&=fc(g,e[h],a.type,j,a)&&a.Ze!=o}if(o in c)if(g=c[o],g.Ca=g.l,b)for(h=0;!a.Mc&&h<e.length&&g.Ca;h++)a.currentTarget=e[h],d&=fc(g,e[h],a.type,o,a)&&a.Ze!=o;else for(e=this;!a.Mc&&e&&g.Ca;e=
        e.Ag)a.currentTarget=e,d&=fc(g,e,a.type,o,a)&&a.Ze!=o;a=Boolean(d)}else a=j;return a};r.h=function(){S.n.h.call(this);cc(this);this.Ag=k};var je=function(a,b){this.Xd=a||1;this.Pd=b||ie;this.Sg=y(this.Sm,this);this.Tg=z()};A(je,S);je.prototype.enabled=o;var ie=s.window;r=je.prototype;r.Oa=k;r.setInterval=function(a){this.Xd=a;this.Oa&&this.enabled?(this.stop(),this.start()):this.Oa&&this.stop()};r.Sm=function(){if(this.enabled){var a=z()-this.Tg;0<a&&a<0.8*this.Xd?this.Oa=this.Pd.setTimeout(this.Sg,this.Xd-a):(this.Jg(),this.enabled&&(this.Oa=this.Pd.setTimeout(this.Sg,this.Xd),this.Tg=z()))}};r.Jg=function(){this.dispatchEvent("tick")};
    r.start=function(){this.enabled=j;this.Oa||(this.Oa=this.Pd.setTimeout(this.Sg,this.Xd),this.Tg=z())};r.stop=function(){this.enabled=o;this.Oa&&(this.Pd.clearTimeout(this.Oa),this.Oa=k)};r.h=function(){je.n.h.call(this);this.stop();delete this.Pd};var ke=function(a,b,c){ga(a)?c&&(a=y(a,c)):a&&"function"==typeof a.handleEvent?a=y(a.handleEvent,a):f(Error("Invalid listener argument"));return 2147483647<b?-1:ie.setTimeout(a,b||0)};var le=function(a,b,c){this.oa=c||Ab();this.b=a;this.Ui=b||"*";this.A=new Q(this);this.zd=new je(100,this.D());R(this.A,this.zd,"tick",this.Ti)};A(le,Ed);le.prototype.va=o;le.prototype.dc=1;
    var me={},ne=function(a){var b=a.Rd.data;if(!x(b))return o;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return o;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);I(N,"messageReceived: channel="+e+", service="+c+", payload="+b);if(d=Bd[e])return d.lb(c,b,a.Rd.origin),j;for(var g in Bd)if(a=Bd[g],1==Gd(a)&&!a.za()&&"tp"==c&&"SETUP"==b)return I(N,"changing channel name to "+e),a.name=e,delete Bd[g],Bd[e]=a,a.lb(c,b),j;N.info('channel name mismatch; message ignored"');return o};
    r=le.prototype;r.Dg=function(a){switch(a){case "SETUP":this.send("tp","SETUP_ACK");break;case "SETUP_ACK":Hd(this.b)}};r.X=function(){var a=this.D(),b=ka(a),c=me[b];"number"==typeof c||(c=0);0==c&&Wb(a.postMessage?a:a.document,"message",ne,o,le);me[b]=c+1;this.va=j;this.Ti()};r.Ti=function(){this.b.za()||this.Jb?this.zd.stop():(this.zd.start(),this.send("tp","SETUP"))};
    r.send=function(a,b){var c=this.b.Aa;if(c){var d=c.postMessage?c:c.document;this.send=function(a,b){I(N,"send(): payload="+b+" to hostname="+this.Ui);d.postMessage(this.b.name+"|"+a+":"+b,this.Ui)};this.send(a,b)}else I(N,"send(): window not ready")};r.h=function(){le.n.h.call(this);if(this.va){var a=this.D(),b=ka(a),c=me[b];me[b]=c-1;1==c&&$b(a.postMessage?a:a.document,"message",ne,o,le)}F(this.A);delete this.A;F(this.zd);delete this.zd;delete this.send};var oe=function(a,b){this.oa=b||Ab();this.b=a;this.Qi=a.at||"";this.Ri=a.rat||"";var c=this.D();if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
        "vbscript"),c.nix_setup_complete=j}catch(d){N.o("exception caught while attempting global setup: "+d)}this.GCXPC____NIXJS_handle_message=this.yl;this.GCXPC____NIXJS_create_channel=this.lc};A(oe,Ed);r=oe.prototype;r.dc=6;r.Ic=o;r.Cb=k;r.X=function(){0==Gd(this.b)?this.aj():this.Yi()};
    r.aj=function(){if(!this.Ic){var a=this.b.yc;try{a.contentWindow.opener=this.D().GCXPC____NIXVBS_get_wrapper(this,this.Qi),this.Ic=j}catch(b){N.o("exception caught while attempting setup: "+b)}this.Ic||this.D().setTimeout(y(this.aj,this),100)}};
    r.Yi=function(){if(!this.Ic){try{var a=this.D().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Cb=a;if(this.Cb.GetAuthToken()!=this.Ri){N.o("Invalid auth token from other party");return}this.Cb.CreateChannel(this.D().GCXPC____NIXVBS_get_wrapper(this,this.Qi));this.Ic=j;Hd(this.b)}}catch(b){N.o("exception caught while attempting setup: "+b);return}this.Ic||this.D().setTimeout(y(this.Yi,this),100)}};
    r.lc=function(a){("unknown"!=typeof a||!("GCXPC____NIXVBS_container"in a))&&N.o("Invalid NIX channel given to createChannel_");this.Cb=a;this.Cb.GetAuthToken()!=this.Ri?N.o("Invalid auth token from other party"):Hd(this.b)};r.yl=function(a,b){this.D().setTimeout(y(function(){this.b.lb(a,b,i)},this),1)};r.send=function(a,b){"unknown"!==typeof this.Cb&&N.o("NIX channel not connected");this.Cb.SendMessage(a,b)};r.h=function(){oe.n.h.call(this);this.Cb=k};var qe=function(a,b){this.qa={};for(var c=0,d;d=Ad[c];c++)d in a&&!/^https?:\/\//.test(a[d])&&f(Error("URI "+a[d]+" is invalid for field "+d));this.C=a;this.name=this.C.cn||Dd(10);this.oa=b||Ab();this.od=[];a.lpu=a.lpu||$c(this.oa.D().location.href)+"/robots.txt";a.ppu=a.ppu||$c(a.pu||"")+"/robots.txt";Bd[this.name]=this;Wb(window,"unload",pe);N.info("CrossPageChannel created: "+this.name)};A(qe,Wc);var re=/^%*tp$/,se=/^%+tp$/;r=qe.prototype;r.ea=k;r.j=1;r.za=function(){return 2==this.j};r.Aa=k;
    r.yc=k;
    var ue=function(a){var b=document.body,c=a.C.ifrid;c||(c=a.C.ifrid="xpcpeer"+Dd(4));var d=Ab(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";var e=te(a);$a||E?(a.Fg=j,window.setTimeout(y(function(){this.Fg=o;b.appendChild(d);d.src=e.toString();N.info("peer iframe created ("+c+")");this.yd&&this.X(this.ng)},a),1)):(d.src=e.toString(),b.appendChild(d),N.info("peer iframe created ("+c+")"))},te=function(a){var b=a.C.pu;x(b)&&(b=a.C.pu=new L(b));var c={};c.cn=a.name;c.tp=
        a.C.tp;a.C.lru&&(c.pru=a.C.lru);a.C.lpu&&(c.ppu=a.C.lpu);a.C.ppu&&(c.lpu=a.C.ppu);M(b,"xpc",kc(c));return b};qe.prototype.Fg=o;qe.prototype.yd=o;
    qe.prototype.X=function(a){this.ng=a||ca;if(this.Fg)N.info("connect() deferred"),this.yd=j;else{this.yd=o;N.info("connect()");this.C.ifrid&&(this.yc=x(this.C.ifrid)?this.oa.Xa.getElementById(this.C.ifrid):this.C.ifrid);this.yc&&((a=this.yc.contentWindow)||(a=window.frames[this.C.ifrid]),this.Aa=a);this.Aa||(window==top&&f(Error("CrossPageChannel: Can't connect, peer window-object not set.")),this.Aa=window.parent);if(!this.ea){if(!this.C.tp){var a=this.C,b;if(ga(document.postMessage)||ga(window.postMessage)||
        D&&window.postMessage)b=1;else if($a)b=2;else if(D&&this.C.pru)b=3;else{var c;if(c=D){c=o;try{b=window.opener,window.opener={},c=Mb(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.C.tp){case 1:this.ea=new le(this,this.C.ph,this.oa);break;case 6:this.ea=new oe(this,this.oa);break;case 2:this.ea=new Fd(this,this.oa);break;case 3:this.ea=new Yd(this,this.oa);break;case 4:this.ea=new O(this,this.oa)}this.ea?N.info("Transport created: "+this.ea.getName()):f(Error("CrossPageChannel: No suitable transport found!"))}for(this.ea.X();0<
        this.od.length;)this.od.shift()()}};qe.prototype.close=function(){this.za()&&(this.j=3,this.ea.M(),this.ng=this.ea=k,this.yd=o,this.od.length=0,N.info('Channel "'+this.name+'" closed'))};var Hd=function(a){a.za()||(a.j=2,N.info('Channel "'+a.name+'" connected'),a.ng())};qe.prototype.send=function(a,b){this.za()?Boolean(this.Aa.closed)?(N.o("Peer has disappeared."),this.close()):(ha(b)&&(b=kc(b)),this.ea.send(ve(a),b)):N.o("Can't send. Channel not connected.")};
    qe.prototype.lb=function(a,b,c){if(this.yd)this.od.push(y(this.lb,this,a,b,c));else{var d=this.C.ph;if(/^[\s\xa0]*$/.test(c==k?"":""+c)||/^[\s\xa0]*$/.test(d==k?"":""+d)||c==this.C.ph)if(this.Jb)N.z("CrossPageChannel::deliver_(): Disposed.");else if(!a||"tp"==a)this.ea.Dg(b);else if(this.za()){if(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=se.test(a)?a.substring(1):a,c=this.qa[a],c||(this.Ni?c={Bg:na(this.Ni,a),yj:ha(b)}:(this.Ke.z('Unknown service name "'+a+'"'),c=k)),c){var e;a:{if((d=c.yj)&&
        x(b))try{e=gc(b);break a}catch(g){this.Ke.z("Expected JSON payload for "+a+', was "'+b+'"');e=k;break a}else if(!d&&!x(b)){e=kc(b);break a}e=b}t(e)&&c.Bg(e)}}else N.info("CrossPageChannel::deliver_(): Not connected.");else N.z('Message received from unapproved origin "'+c+'" - rejected.')}};var ve=function(a){re.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)},Gd=function(a){return window.parent==a.Aa?1:0};
    qe.prototype.h=function(){qe.n.h.call(this);this.close();this.yc=this.Aa=k;delete Bd[this.name];this.od.length=0};var pe=function(){for(var a in Bd){var b=Bd[a];b&&b.M()}};var we=function(a,b){D?a.cssText=b:a[E?"innerText":"innerHTML"]=b};var xe=function(a,b,c,d,e,g){var d=new L(d||window.location.href),h=new L,e=e?e:Math.floor(1E3*Math.random())+".talkgadget.google.com";cd(h,e);ed(h,"/talkgadget/d");M(h,"token",a);g&&dd(h,g);var a=c||"wcs-iframe",c="#"+a+" { display: none; }",l=Ab(i),n=k;if(D)n=l.Xa.createStyleSheet(),we(n,c);else{var m=Bb(l.Xa,"head")[0];m||(n=Bb(l.Xa,"body")[0],m=l.Wj("head"),n.parentNode.insertBefore(m,n));n=l.Wj("style");we(n,c);l.appendChild(m,n)}c={};l=new L;cd(l,e);g&&dd(l,g);ed(l,"/talkgadget/xpc_blank");
        "http"==d.da||"https"==d.da?(ad(h,d.da),ad(l,d.da),g=new L,ad(g,d.da),cd(g,d.K()),80!=d.ya&&dd(g,d.ya),ed(g,b)):(ad(h,"http"),ad(l,"http"),g=new L("http://www.google.com/xpc_blank"));c.lpu=g.toString();c.ppu=l.toString();c.ifrid=a;c.pu=h.toString();qe.call(this,c)};A(xe,qe);oa("chat.WcsCrossPageChannel",xe);var ze=function(a,b,c,d,e){this.readyState=0;this.Ig=[];this.onopen=b.onopen;this.onmessage=b.onmessage;this.onerror=b.onerror;this.onclose=b.onclose;this.pa=c||new xe(a,"/_ah/channel/xpc_blank");this.We=c?d:"wcs-iframe";this.Fd=e||new ye(a);document.body||f("document.body is not defined -- do not create socket from script in <head>.");ue(this.pa);this.pa.ca("opened",y(this.pm,this));this.pa.ca("onMessage",y(this.om,this));this.pa.ca("onError",y(this.Oe,this));this.pa.ca("onClosed",y(this.Rj,this));
        this.pa.X(y(function(){this.xg()},this))};ze.prototype.send=function(){return o};ze.prototype.close=function(){this.Rj()};ze.prototype.$m=function(){for(var a=0,b;b=this.Ig[a];a++)switch(b.type){case 0:this.onopen(b.ef);break;case 1:this.onmessage(b.ef);break;case 2:this.onerror(b.ef);break;case 3:this.onclose(b.ef)}this.Ig=[]};var Ae=function(a,b,c){a.Ig.push({type:b,ef:c});window.setTimeout(y(a.$m,a),1)};r=ze.prototype;
    r.om=function(a){var a=gc(a),b=a.m,a=a.s,c=this.Fd.Ne(b);Qa(c,a)&&Ae(this,1,{data:b});this.Fd.Nd++};r.Oe=function(a){a=gc(a);Ae(this,2,{description:a.d,code:a.c})};r.xg=function(){};r.pm=function(){this.readyState=1;Ae(this,0,{})};r.Rj=function(){this.pa.close();this.readyState=3;Ae(this,3,{});if(this.We){var a=new zb,b=x(this.We)?a.Xa.getElementById(this.We):this.We;b&&a.removeNode(b)}};
    var ye=function(a,b,c){for(;0!=a.length%4;)a+=".";this.Nd=0;try{if(!mb){mb={};nb={};ob={};for(var d=0;65>d;d++)mb[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d),nb[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(d),ob[nb[d]]=d}for(var d=ob,e=[],g=0;g<a.length;){var h=d[a.charAt(g++)],l=g<a.length?d[a.charAt(g)]:0;++g;var n=g<a.length?d[a.charAt(g)]:0;++g;var m=g<a.length?d[a.charAt(g)]:0;++g;(h==k||l==k||n==k||m==k)&&f(Error());e.push(h<<
        2|l>>4);64!=n&&(e.push(l<<4&240|n>>2),64!=m&&e.push(n<<6&192|m))}this.kk=e}catch(q){q.message&&f(Error("The provided token is invalid ("+q.name+": "+q.message+")")),f(Error("The provided token is invalid."))}this.Ea=b||new SHA1;this.Im=c||new G_HMAC(this.Ea,this.kk,this.kk.length)};ye.prototype.Ne=function(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}b.push(this.Nd);a=this.Im;a.reset();a.update(b);return a.Qc()};oa("goog.appengine.Socket",ze);
    oa("goog.appengine.Socket.ReadyState",{CONNECTING:0,OPEN:1,dp:2,CLOSED:3});oa("goog.appengine.Socket.ReadyState.CONNECTING",0);oa("goog.appengine.Socket.ReadyState.OPEN",1);oa("goog.appengine.Socket.ReadyState.CLOSING",2);oa("goog.appengine.Socket.ReadyState.CLOSED",3);oa("goog.appengine.Socket.prototype.send",ze.prototype.send);oa("goog.appengine.Socket.prototype.close",ze.prototype.close);var Be=[4,8,16,32,1E3];var T=function(){};T.prototype.w=function(){};var Ce=function(a){return a.a};T.prototype.toString=function(){return this.a.toString()};var De=function(a){var b=U[a[0]];b||f(Error("Unknown JsPb message type: "+a[0]));return new b(a)},U={};var Ee=function(a){this.a=a||["ci:cpc"]};A(Ee,T);U["ci:cpc"]=Ee;Ee.prototype.w=function(){return"ci:cpc"};var Fe=function(a){this.a=a||["ci:csm"];this.a[15]=this.a[15]||[]};A(Fe,T);U["ci:csm"]=Fe;Fe.prototype.w=function(){return"ci:csm"};var Ge=function(a){return a.a[11]},He=function(a){this.a=a||["ci:csmmc"]};A(He,T);U["ci:csmmc"]=He;He.prototype.w=function(){return"ci:csmmc"};var Ie=function(a){this.a=a||["ci:cui:uss"]};A(Ie,T);U["ci:cui:uss"]=Ie;r=Ie.prototype;r.w=function(){return"ci:cui:uss"};r.Vj=function(){return this.a[1]};r.getName=function(){return this.a[2]};r.Hb=function(a){this.a[2]=a};r.gc=function(){return this.a[3]};r.Sc=function(a){this.a[3]=a};r.Dh=function(){return this.a[4]};r.fg=function(a){this.a[4]=a};var Je=function(a){this.a=a||["ci:cui"];this.a[9]=this.a[9]||[]};A(Je,T);U["ci:cui"]=Je;r=Je.prototype;r.w=function(){return"ci:cui"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.Ra=function(){return this.a[3]};r.Xc=function(a){this.a[3]=a};r.Vj=function(){return this.a[7]};r.ee=function(){return this.a[12]};var Ke=function(a){this.a=a||["ci:cro"]};A(Ke,T);U["ci:cro"]=Ke;Ke.prototype.w=function(){return"ci:cro"};var Le=function(a){a.zi||(a.zi=new Je(a.a[1]));return a.zi},Me=function(a){a.wi||(a.wi=new Ee(a.a[2]));return a.wi},Ne=function(a){a.yi||(a.yi=new Fe(a.a[3]));return a.yi};/*
     Portions of this code are from MochiKit, received by
     The Closure Authors under the MIT license. All other code is Copyright
     2005-2009 The Closure Authors. All Rights Reserved.
     */
    var Qe=function(a){this.id=Oe++;this.tm=[];this.qa={};this.Kg={};this.oe={};this.Zb={};this.Xj={};this.Si={};this.dj=a?a.dj:new S;this.Bl=!a;this.Wd=k;a?(this.Wd=a,this.oe=a.oe,this.Zb=a.Zb,this.Kg=a.Kg,this.Xj=a.Xj):z();a=Pe(this);this!=a&&(a.Pe?a.Pe.push(this):a.Pe=[this])};A(Qe,Ib);var Oe=1,Pe=function(a){for(;a.Wd;)a=a.Wd;return a};Qe.prototype.get=function(a){var b=Re(this,a);!b&&this.tt&&(b={BOGUS:"Service "+a+" was not registered"});b||f(new Se(a));return b};
    var Re=function(a,b){for(var c=a;c;c=c.Wd){if(c.qa[b])return c.qa[b][0];if(c.Si[b])break}return(c=a.oe[b])?(c=c(a),a.ca(b,c),c):k};Qe.prototype.ca=function(a,b,c){Da(!this.qa[a],'Service for "%s" is already registered',a);this.tm.push(a);this.qa[a]=[b,!c];b=Te(this,this,a);for(c=0;c<b.length;c++)b[c].Bg(k);delete this.Kg[a]};
    var Te=function(a,b,c){var d=[],e=a.Zb[c];e&&(Ha(e,function(a){var c;a:{for(c=a.Um;c;){if(c==b){c=j;break a}c=c.Wd}c=o}c&&(d.push(a.No),Ka(e,a))}),0==e.length&&delete a.Zb[c]);return d},Ue=function(a,b){a.Zb&&vc(a.Zb,function(a,d,e){Ha(a,function(d){d.Um==b&&Ka(a,d)});0==a.length&&delete e[d]})};
    Qe.prototype.h=function(){if(Pe(this)==this){var a=this.Pe;if(a)for(;a.length;)a[0].M()}else for(var a=Pe(this).Pe,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.qa)a=this.qa[c],a[1]&&"undefined"!=typeof a[0].M&&a[0].M();this.qa=k;this.Bl&&this.dj.M();Ue(this,this);this.Zb=k;F(this.am);this.Si=this.am=k;Qe.n.h.call(this)};var Se=function(a){pa.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'};A(Se,pa);var Ve=function(a){Ke.call(this,a);this.sh="u";this.wf="";this.version="local";this.vh=[];this.Nh="Google Talk";this.startTime=0;this.xh=this.th=this.debug=o;this.mc=-1;this.Lh=1;u(Ge(Ne(this)))||(Ne(this).a[11]="[b:-1,h:-1,j:-1,sn:-1,sf:-1,1:1]");a=Ne(this);u(a.a[12])||(Ne(this).a[12]="{p:1} {ac:5,aa:4,ab:3,ai:2,aw:1,ao:0} {wb:1}");a=Ne(this);u(a.a[13])||(Ne(this).a[13]="*");a=Ne(this);u(a.a[14])||(Ne(this).a[14]="");a=Me(this);u(a.a[7])||(Me(this).a[7]="")};A(Ve,Ke);
    oa("GoogleChat_GetConfig",function(a,b,c,d,e,g,h,l,n,m,q,w,P,B,wa,Gb,Ta,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj,Kj,Lj,Mj,Nj,Oj,Pj,Qj,Rj,Sj,Tj,Uj,Vj,Wj,Xj,Yj,Zj,$j,ak,bk,ck,dk,ek,fk,gk,hk,ik,jk,kk,lk,mk,nk,ok,pk,qk,rk,sk,tk,uk,vk,wk,xk,yk,zk,Ak,Bk,Ck,Dk,Ek,p){p&&(p=gc(p));p=new Ve(p);p.ko=j;p.wf=a;p.nl=b;p.ol=c;p.sh=d;p.Rn=e;p.version=g;p.pl=h;p.On=l;p.zn=n;p.po=m;p.vh=q;p.co=w;p.yn=P;p.Nh=B;p.lo="aquasar"==B||"Google-Voice"==B;p.jo="aquasar"==B||"hangout"==B;p.io="ChromeOS"==B;p.ho="aChromeExtension"==B;p.Bo=
        wa;p.Hn=Gb;p.Gn=Ta;p.In=Aj;p.Pn=Bj;p.startTime=Cj;p.debug=Dj;p.Kn=Ej;p.Ao=Fj;p.th=Gj;p.tn=Hj;p.xn=Ij;p.wo=Jj;p.qo=Kj;p.mo=Lj;p.zo=Mj;p.Un=Nj;p.Wn=Oj;p.xh=Pj;p.Zn=Qj;p.bo=Rj;p.$n=Sj;p.Tn=Tj;p.Yn=Uj;p.Vn=Vj;p.ro=Wj;p.xo=Xj;p.to=Yj;p.fo=Zj;p.Jn=$j;p.Ln=ak;p.so=bk;p.wn=ck;p.Dn=dk;p.Fn=ek;p.Cn=fk;p.Eo=gk;p.Bn=hk;p.mc=ik;p.Lh=jk;p.vn=kk;p.Sn=lk;p.no=mk;p.Go=nk||k;p.Ho=ok;p.Co=pk;p.Xn=qk;p.Mn=rk;p.ao=sk;p.yo=tk;p.un=uk;p.vo=vk;p.An=wk;p.eo=xk;p.Qn=yk;p.Nn=zk;p.uo=Ak;p.En=Bk;p.Fo=Ck;p.Do=Dk;p.oo=Ek;return p});var We=function(){};We.prototype.wk=k;We.prototype.Fe=function(){var a;if(!(a=this.wk))a={},Xe(this)&&(a[0]=j,a[1]=j),a=this.wk=a;return a};var Ye,Ze=function(){};A(Ze,We);var $e=function(a){return(a=Xe(a))?new ActiveXObject(a):new XMLHttpRequest};Ze.prototype.$g=k;var Xe=function(a){if(!a.$g&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.$g=d}catch(e){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.$g};
    Ye=new Ze;var af=function(a){this.headers=new H;this.Le=a||k};A(af,S);af.prototype.g=K("goog.net.XhrIo");var bf=/^https?$/i,cf=[];r=af.prototype;r.Bb=o;r.G=k;r.Ge=k;r.jg="";r.Ki="";r.B="";r.lg=o;r.Ie=o;r.kg=o;r.Xb=o;r.Je=0;r.Wb=k;r.Oi="";r.ql=o;
    r.send=function(a,b,c,d){this.G&&f(Error("[goog.net.XhrIo] Object is active with another request"));b=b?b.toUpperCase():"GET";this.jg=a;this.B="";this.Ki=b;this.lg=o;this.Bb=j;this.G=this.Le?$e(this.Le):$e(Ye);this.Ge=this.Le?this.Le.Fe():Ye.Fe();this.G.onreadystatechange=y(this.Ii,this);try{I(this.g,df(this,"Opening Xhr")),this.kg=j,this.G.open(b,a,j),this.kg=o}catch(e){I(this.g,df(this,"Error opening Xhr: "+e.message));ef(this,e);return}var a=c||"",g=this.headers.O();d&&vc(d,function(a,b){g.set(b,
        a)});"POST"==b&&!g.$("Content-Type")&&g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");vc(g,function(a,b){this.G.setRequestHeader(b,a)},this);this.Oi&&(this.G.responseType=this.Oi);"withCredentials"in this.G&&(this.G.withCredentials=this.ql);try{this.Wb&&(ie.clearTimeout(this.Wb),this.Wb=k),0<this.Je&&(I(this.g,df(this,"Will abort after "+this.Je+"ms if incomplete")),this.Wb=ie.setTimeout(y(this.ld,this),this.Je)),I(this.g,df(this,"Sending request")),this.Ie=j,this.G.send(a),
        this.Ie=o}catch(h){I(this.g,df(this,"Send error: "+h.message)),ef(this,h)}};r.ld=function(){"undefined"!=typeof aa&&this.G&&(this.B="Timed out after "+this.Je+"ms, aborting",I(this.g,df(this,this.B)),this.dispatchEvent("timeout"),this.abort(8))};var ef=function(a,b){a.Bb=o;a.G&&(a.Xb=j,a.G.abort(),a.Xb=o);a.B=b;ff(a);gf(a)},ff=function(a){a.lg||(a.lg=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
    af.prototype.abort=function(){this.G&&this.Bb&&(I(this.g,df(this,"Aborting")),this.Bb=o,this.Xb=j,this.G.abort(),this.Xb=o,this.dispatchEvent("complete"),this.dispatchEvent("abort"),gf(this))};af.prototype.h=function(){this.G&&(this.Bb&&(this.Bb=o,this.Xb=j,this.G.abort(),this.Xb=o),gf(this,j));af.n.h.call(this)};af.prototype.Ii=function(){!this.kg&&!this.Ie&&!this.Xb?this.Tm():hf(this)};af.prototype.Tm=function(){hf(this)};
    var hf=function(a){if(a.Bb&&"undefined"!=typeof aa)if(a.Ge[1]&&4==jf(a)&&2==a.rb())I(a.g,df(a,"Local request error detected and ignored"));else if(a.Ie&&4==jf(a))ie.setTimeout(y(a.Ii,a),0);else if(a.dispatchEvent("readystatechange"),4==jf(a)){I(a.g,df(a,"Request complete"));a.Bb=o;try{var b=a.rb(),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:d=j;break a;default:d=o}if(!(c=d)){var e;if(e=0===b){var g=Zc(""+a.jg)[1]||k;if(!g&&self.location)var h=self.location.protocol,g=h.substr(0,
        h.length-1);e=!bf.test(g?g.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var l;try{l=2<jf(a)?a.G.statusText:""}catch(n){I(a.g,"Can not get status: "+n.message),l=""}a.B=l+" ["+a.rb()+"]";ff(a)}}finally{gf(a)}}},gf=function(a,b){if(a.G){var c=a.G,d=a.Ge[0]?ca:k;a.G=k;a.Ge=k;a.Wb&&(ie.clearTimeout(a.Wb),a.Wb=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){a.g.o("Problem encountered resetting onreadystatechange: "+e.message)}}};
    af.prototype.Yb=function(){return!!this.G};var jf=function(a){return a.G?a.G.readyState:0};af.prototype.rb=function(){try{return 2<jf(this)?this.G.status:-1}catch(a){return this.g.z("Can not get status: "+a.message),-1}};var kf=function(a){try{return a.G?a.G.responseText:""}catch(b){return I(a.g,"Can not get responseText: "+b.message),""}};af.prototype.Di=function(){return x(this.B)?this.B:""+this.B};var df=function(a,b){return b+" ["+a.Ki+" "+a.jg+" "+a.rb()+"]"};var lf=function(a,b){this.Ud=b;this.$b=[];a>this.Ud&&f(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.$b.push(this.Td())};A(lf,Ib);lf.prototype.xk=k;lf.prototype.lk=k;var mf=function(a){return a.$b.length?a.$b.pop():a.Td()},nf=function(a,b){a.$b.length<a.Ud?a.$b.push(b):a.sg(b)};lf.prototype.Td=function(){return this.xk?this.xk():{}};lf.prototype.sg=function(a){if(this.lk)this.lk(a);else if(ha(a))if(ga(a.M))a.M();else for(var b in a)delete a[b]};
    lf.prototype.h=function(){lf.n.h.call(this);for(var a=this.$b;a.length;)this.sg(a.pop());delete this.$b};var qf=function(){this.fa=[];this.zb=new H;this.uj=this.ue=this.ve=this.gd=0;this.Qb=new H;this.rj=this.Mf=0;this.km=1;this.Rb=new lf(0,4E3);this.Rb.Td=function(){return new of};this.Nf=new lf(0,50);this.Nf.Td=function(){return new pf};var a=this;this.wc=new lf(0,2E3);this.wc.Td=function(){return""+a.km++};this.wc.sg=function(){};this.ki=3};qf.prototype.g=K("goog.debug.Trace");qf.prototype.Tf=1E3;var pf=function(){this.sd=this.time=this.count=0};
    pf.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.sd&&a.push(" [VarAlloc = ",this.sd,"]");return a.join("")};var of=function(){},tf=function(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(rf(a.xe-c));e.push(" ",sf(a.xe-b));0==a.qd?e.push(" Start        "):1==a.qd?(e.push(" Done "),e.push(rf(a.Zk-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.vd&&e.push("[VarAlloc ",a.vd,"] ");return e.join("")};
    of.prototype.toString=function(){return this.type==k?this.wd:"["+this.type+"] "+this.wd};qf.prototype.reset=function(a){this.ki=a;for(a=0;a<this.fa.length;a++){var b=this.Rb.id;b&&nf(this.wc,b);nf(this.Rb,this.fa[a])}this.fa.length=0;this.zb.clear();this.gd=z();this.rj=this.Mf=this.uj=this.ue=this.ve=0;b=this.Qb.Va();for(a=0;a<b.length;a++){var c=this.Qb.get(b[a]);c.count=0;c.time=0;c.sd=0;nf(this.Nf,c)}this.Qb.clear()};var uf=function(a){return(a=a.ut)&&a.isTracing()?a.totalVarAlloc:-1};
    qf.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.fa.length;d++){var e=this.fa[d];1==e.qd&&c.pop();a.push(" ",tf(e,this.gd,b,c.join("")));b=e.xe;a.push("\n");0==e.qd&&c.push("|  ")}if(0!=this.zb.U()){var g=z();a.push(" Unstopped timers:\n");rc(this.zb,function(b){a.push("  ",b," (",g-b.startTime," ms, started at ",sf(b.startTime),")\n")})}b=this.Qb.Va();for(d=0;d<b.length;d++)c=this.Qb.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.Mf,"\n","Total comments created ",
        this.rj,"\n","Overhead start: ",this.ve," ms\n","Overhead end: ",this.ue," ms\n","Overhead comment: ",this.uj," ms\n");return a.join("")};var rf=function(a){var a=Math.round(a),b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a},sf=function(a){a=Math.round(a);return(""+(100+a/1E3%60)).substring(1,3)+"."+(""+(1E3+a%1E3)).substring(1,4)},vf=new qf;K("goog.debug.ErrorReporter");var wf=function(){this.g=K("chat.client.ServerMessageDispatcher")};A(wf,S);wf.prototype.handle=function(a){J(this.g,"received: "+a);return dc(this,a[0])?(this.dispatchEvent(new xf(a[0],a)),j):o};var xf=function(a,b){G.call(this,a,b);this.Qa=b};A(xf,G);var yf=function(a){this.a=a||["csu"];this.a[4]=this.a[4]||[];this.a[6]=this.a[6]||[]};A(yf,T);U.csu=yf;r=yf.prototype;r.w=function(){return"csu"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.md=function(){return this.a[3]};r.gi=function(a){this.a[3]=a};var Af=function(a){if(!a.bg){a.bg=[];for(var b=0;b<a.a[4].length;b++)a.bg[b]=new zf(a.a[4][b])}return a.bg},zf=function(a){this.a=a||[]};A(zf,T);r=zf.prototype;r.hb=function(){return this.a[0]};r.cf=function(){return this.a[1]};
    r.Hf=function(){return this.a[3]};r.fi=function(){return this.a[4]};r.ci=function(){return this.a[5]};r.di=function(){return this.a[7]};r.ei=function(){return this.a[8]};var Cf=function(a,b,c){this.Y=a||k;this.ob=(b?b.replace(Bf,"\\27"):b)||k;this.Yd=c||k},Df=/^([a-zA-Z0-9!#$%*?|^{}+=_.'\\-])+\@(([a-zA-Z0-9\-])+\.)+[a-zA-Z0-9]{2,6}$/,Ef=/(muvc-|named-)?private-chat-[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/,Ff=/^([0-9]+\.)?voice\.google\.com$/,Gf=[".google.com",".gmail.com"],Hf=/fc-chat-.*/,Bf=RegExp("'","g"),Jf=function(a){a=If(a);return t(a.ob)&&"contact.talk.google.com"==a.K()},Kf=function(a){var b=a.indexOf("/");return-1==b?a:a.substring(0,
        b)},If=function(a){var b=a.indexOf("/"),c=a.indexOf("@"),d=k;0>b?b=a.length:b+1<a.length&&(d=a.substring(b+1));var e=k;0<=c&&(c<b?0<c&&(e=a.substring(0,c)):c=-1);return new Cf(a.substring(c+1,b),e,d)};Cf.prototype.K=function(){return this.Y};
    var Lf=function(a){var b;if(!(b="groupchat.google.com"==a.K()&&Ef.test(a.ob)))if(!(b="friendconnectchat.google.com"==a.K()&&Hf.test(a.ob))){b=a;x(b)&&(b=If(b));var c=0==(b.K()||"").lastIndexOf("conference.",0),d=o;if(c)for(var e=0;e<Gf.length;e++){var g=b.K()||"",h=Gf[e],l=g.length-h.length;if(0<=l&&g.indexOf(h,l)==l){d=j;break}}if(!(b=c&&d))x(a)&&(a=If(a)),b="muvc.google.com"==a.K()}return b},Mf=function(a){return a.Yd==k?a:new Cf(a.Y,a.ob,k)};
    Cf.prototype.hc=function(a){return this.Y==a.Y&&this.ob==a.ob&&this.Yd==a.Yd};Cf.prototype.toString=function(){var a=[];this.ob!=k&&(a.push(this.ob),a.push("@"));a.push(this.Y);this.Yd!=k&&(a.push("/"),a.push(this.Yd));return a.join("")};var Nf=function(a,b,c,d){this.Mg=b;this.Ia=a;this.lf=z();this.Oc=c;this.Jm=d};A(Nf,S);Nf.prototype.cf=function(){return this.Ia};Nf.prototype.hb=function(){return this.Mg};Nf.prototype.sj=function(){return this.Jm?this.Oc:za(this.Oc)};var Of=function(a,b,c,d,e,g,h,l){Nf.call(this,"c",a,e,o);this.$j=g;this.ak=b;this.Qg=h;this.xc=d;this.Zj=c;this.Rm=l||k};A(Of,Nf);
    Of.prototype.hc=function(a){return this.Mg==a.Mg&&this.Ia==a.Ia&&this.Oc==a.Oc&&t(this.$j)==t(a.$j)&&this.ak==a.ak&&this.Qg==a.Qg&&this.xc==a.xc&&this.Zj==a.Zj};Of.prototype.ei=function(){return this.Rm};Of.prototype.fi=function(){return!Lf(If(this.xc))?Kf(this.xc):this.xc};Of.prototype.di=function(){return this.Qg};var Pf=function(a,b,c){this.Lb=a;this.Qh=b;this.Ug=c;this.hk=o;this.wh=[];this.je=new H;this.Pb=k};A(Pf,S);Pf.prototype.h=function(){Pf.n.h.call(this);this.wh=[];this.je.clear()};Pf.prototype.md=function(){return this.Ug};Pf.prototype.k=function(){return this.Lb};Pf.prototype.tk=function(a){return this.je.get(a)};var Qf=function(a,b,c){Pf.call(this,a,b,c)};A(Qf,Pf);Qf.prototype.gi=function(a){return this.Ug!=a?(this.Ug=a,this.dispatchEvent("e"),j):o};
    var Rf=function(a){a.hk||(a.hk=j,a.dispatchEvent("g"))},Sf=function(a){G.call(this,a)};A(Sf,G);var Tf=function(){this.ie=new H};A(Tf,S);Tf.prototype.h=function(){Tf.n.h.call(this);this.ie.clear()};var Uf=function(a){this.ie=new H;this.v=new Q(this);R(this.v,a.get("ha"),"csu",this.Fm)};A(Uf,Tf);Uf.prototype.h=function(){Uf.n.h.call(this);F(this.v)};
    Uf.prototype.Fm=function(a){var a=De(a.Qa),b;if("number"==typeof a.md())b=a.md();else switch(a.md()){case "i":b=1;break;case "o":b=4;break;case "m":b=3;break;case "c":b=2}var c=this.ie.get(a.k()),d=o;if(c){var e=c,g=a.a[2];e.Qh!=g&&(e.Qh=g,e.dispatchEvent("f"));e=c.md();if(c.gi(b)&&(2==e||1==e&&2!=b))d=j}else c=new Qf(a.k(),a.a[2],b),this.ie.set(a.k(),c),2!=b&&(d=j);d&&this.dispatchEvent(new Vf("h"));c.Pb=[];if(0<Af(a).length)for(b=0;b<Af(a).length;++b){d=Af(a)[b];e=new Of(d.hb(),d.a[2],d.Hf(),d.fi(),
        d.ci(),d.a[6],d.di(),d.ei());a:{d=c;(g=d.je.get(e.hb()))||d.wh.push(e.hb());if(!g||!g.hc(e))if(d.je.set(e.hb(),e),d.Pb!=k)d.Pb.push(e);else{d.dispatchEvent(new Sf("d"));Rf(d);d=j;break a}d.Pb==k&&Rf(d);d=o}d&&this.dispatchEvent(new Vf("i"))}a=c;0<a.Pb.length?(a.dispatchEvent(new Sf("d")),a.Pb=k,Rf(a),a=j):(a.Pb=k,Rf(a),a=o);a&&this.dispatchEvent(new Vf("i"))};var Vf=function(a){G.call(this,a)};A(Vf,G);var Wf=function(a){this.g=K("chat.client.ExperimentManager");this.nm=a.get("ga");this.sb=new Ac(this.nm.vh)},Xf={ALPHA:"al",Po:"ap",Qo:"ad",So:"au",Ro:"acc",To:"be",Uo:"bp",Vo:"cd",Wo:"cdb",Xo:"ccm",Yo:"cmp",$o:"ch",ul:"chg",ap:"chp",Zo:"csm",bp:"cc",cp:"c3",ep:"cds",fp:"ci",gp:"fca",hp:"crp",ip:"fdc",jp:"dnd",Fp:"ft",Gp:"fs",Hp:"fse",Ip:"gcy",Jp:"gdp",Kp:"gdd",Lp:"ght",Mp:"doc",Np:"gsd",Op:"gdy",Pp:"gbc",Qp:"gdh",Rp:"geg",Sp:"gfm",Tp:"gfv",Up:"ggd",Vp:"ghp",Xp:"gsw",Wp:"gsn",Yp:"glv",Zp:"gmi",$p:"gml",
        aq:"gwf",cq:"gpa",dq:"gph",bq:"gpm",eq:"grc",fq:"gss",gq:"sst",hq:"gse",iq:"spc",jq:"gst",kq:"gwm",lq:"gs",mq:"gbh",nq:"gha",oq:"gvi",pq:"gmj",qq:"gnf",rq:"gob",sq:"gvr",tq:"ho",uq:"hrs",vq:"hab",wq:"ha",xq:"han",zq:"hap",yq:"hav",Aq:"hlb",Bq:"hsl",Cq:"har",Dq:"hbl",Fq:"hbp",Eq:"bic",Iq:"hbs",Jq:"hbi",Kq:"hbt",Gq:"hb",Hq:"hbb",Lq:"hby",Nq:"hci",Mq:"hcb",Oq:"hcp",Pq:"csi",Qq:"hdc",Rq:"hdp",Sq:"her",Tq:"hrm",Uq:"hef",Vq:"hei",Wq:"hfj",Xq:"hgc",Yq:"hhs",Zq:"hht",$q:"hhp",dr:"his",ar:"hil",br:"hrd",cr:"him",
        er:"hja",fr:"hlc",gr:"hlp",hr:"hlr",ir:"hls",jr:"hms",kr:"hmj",lr:"hmm",mr:"hmd",nr:"hm",pr:"nci",or:"hnc",rr:"hng",sr:"hnm",tr:"hph",ur:"hpt",vr:"hpo",wr:"hqs",xr:"hrk",yr:"hss",zr:"hst",Ar:"hsa",Br:"hsb",Cr:"hsr",Dr:"hsg",Er:"hpi",Fr:"ht",Gr:"htp",Hr:"htr",Ir:"hxs",Jr:"htm",Kr:"hyb",Lr:"hot",Mr:"hn",Nr:"h5a",Or:"is",Pr:"jlu",Qr:"jps",Rr:"tm",Sr:"lp",Tr:"lic",Vr:"ld",Ur:"le",Wr:"mef",Xr:"mtg",Yr:"mfd",Zr:"mfr",$r:"mpi",as:"ms2",bs:"mc",ds:"msv",es:"nah",fs:"nh",gs:"nm",hs:"nq",Cs:"pac",Ds:"pam",
        Xs:"rcq",js:"nc",is:"nft",ks:"ogc",ls:"og",ns:"osm",os:"orc",ps:"org",qs:"orw",rs:"occ",ss:"o0i",ws:"odc",us:"ood",ts:"oci",vs:"ocs",xs:"ops",ys:"iud",zs:"opc",As:"opf",Bs:"pbr",Es:"po",Fs:"pst",Gs:"prr",Hs:"pf",Is:"pr",Js:"pmr",Ks:"ppi",Ls:"qde",Ms:"qha",Ps:"qia",Os:"qig",Qs:"qlp",Rs:"qmw",Ns:"qhc",Ss:"qna",Ts:"qp",Us:"qmr",Vs:"qrs",Ws:"qrh",Ys:"rtb",Zs:"rht",vl:"ss",$s:"sf",bt:"sch",ct:"sc2",dt:"sdm",Ik:"sie",et:"spi",fe:"srt",wl:"sr2",ft:"sr3",gt:"srf",ht:"ssd",it:"ssn",jt:"sp2",kt:"sur",pt:"wv",
        qt:"vnr",lt:"ump",mt:"vd",nt:"vp",ot:"vs",rt:"yo"};var Zf=function(a){this.ac=a||Yf},Yf=function(a,b){return""+a<""+b?-1:""+a>""+b?1:0};r=Zf.prototype;r.ia=k;r.ac=k;r.qb=k;r.pb=k;r.l=0;
    r.add=function(a){if(this.ia==k)return this.pb=this.qb=this.ia=new $f(a),this.l=1,j;var b=o;ag(this,function(c){var d=k;if(0<this.ac(c.value,a)){if(d=c.left,c.left==k){var e=new $f(a,c);c.left=e;c==this.qb&&(this.qb=e);b=j;bg(this,c)}}else 0>this.ac(c.value,a)&&(d=c.right,c.right==k&&(e=new $f(a,c),c.right=e,c==this.pb&&(this.pb=e),b=j,bg(this,c)));return d});b&&(this.l+=1);return b};
    r.remove=function(a){var b=k;ag(this,function(c){var d=k;if(0<this.ac(c.value,a))d=c.left;else if(0>this.ac(c.value,a))d=c.right;else if(b=c.value,c.left!=k||c.right!=k){var e=k,g;if(c.left!=k){g=cg(this,c.left);if(g!=c.left){if(g.parent.right=g.left)g.left.parent=g.parent;g.left=c.left;g.left.parent=g;e=g.parent}g.parent=c.parent;g.right=c.right;g.right&&(g.right.parent=g);c==this.pb&&(this.pb=g)}else{g=dg(this,c.right);if(g!=c.right){if(g.parent.left=g.right)g.right.parent=g.parent;g.right=c.right;
        g.right.parent=g;e=g.parent}g.parent=c.parent;g.left=c.left;g.left&&(g.left.parent=g);c==this.qb&&(this.qb=g)}eg(c)?c.parent.left=g:fg(c)?c.parent.right=g:this.ia=g;bg(this,e?e:g)}else eg(c)?(c.parent.left=k,c==this.qb&&(this.qb=c.parent),bg(this,c.parent)):fg(c)?(c.parent.right=k,c==this.pb&&(this.pb=c.parent),bg(this,c.parent)):this.clear();return d});b&&(this.l=this.ia?this.l-1:0);return b};r.clear=function(){this.pb=this.qb=this.ia=k;this.l=0};
    r.contains=function(a){var b=o;ag(this,function(c){var d=k;0<this.ac(c.value,a)?d=c.left:0>this.ac(c.value,a)?d=c.right:b=j;return d});return b};r.U=function(){return this.l};r.Re=function(){return this.ia?this.ia.height:0};r.ga=function(){var a=[];gg(this,function(b){a.push(b)});return a};
    var gg=function(a,b){if(a.ia){var c,d=c=dg(a);for(c=c.left?c.left:c;d!=k;)if(d.left!=k&&d.left!=c&&d.right!=c)d=d.left;else{if(d.right!=c&&b(d.value))break;var e=d,d=d.right!=k&&d.right!=c?d.right:d.parent;c=e}}},ag=function(a,b,c){for(c=c?c:a.ia;c&&c!=k;)c=b.call(a,c)},bg=function(a,b){ag(a,function(a){var b=a.left?a.left.height:0,e=a.right?a.right.height:0;1<b-e?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&hg(this,a.left),ig(this,a)):1<e-b&&(a.right.left&&(!a.right.right||
        a.right.right.height<a.right.left.height)&&ig(this,a.right),hg(this,a));b=a.left?a.left.height:0;e=a.right?a.right.height:0;a.height=Math.max(b,e)+1;return a.parent},b)},hg=function(a,b){eg(b)?(b.parent.left=b.right,b.right.parent=b.parent):fg(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.ia=b.right,a.ia.parent=k);var c=b.right;b.right=b.right.left;b.right!=k&&(b.right.parent=b);c.left=b;b.parent=c},ig=function(a,b){eg(b)?(b.parent.left=b.left,b.left.parent=b.parent):fg(b)?(b.parent.right=
        b.left,b.left.parent=b.parent):(a.ia=b.left,a.ia.parent=k);var c=b.left;b.left=b.left.right;b.left!=k&&(b.left.parent=b);c.right=b;b.parent=c},dg=function(a,b){if(!b)return a.qb;var c=b;ag(a,function(a){var b=k;a.left&&(b=c=a.left);return b},b);return c},cg=function(a,b){if(!b)return a.pb;var c=b;ag(a,function(a){var b=k;a.right&&(b=c=a.right);return b},b);return c},$f=function(a,b){this.value=a;this.parent=b?b:k};$f.prototype.left=k;$f.prototype.right=k;$f.prototype.height=1;
    var fg=function(a){return!!a.parent&&a.parent.right==a},eg=function(a){return!!a.parent&&a.parent.left==a};var jg=0;jg++;jg++;var kg=function(a,b){this.g=K("chat.client.ServerMessageSender");this.hg=a;this.oj=b};A(kg,Ib);kg.prototype.h=function(){kg.n.h.call(this);this.oj=this.hg=k};kg.prototype.send=function(a){J(this.g,"send: "+a.toString());this.oj(a)};"ScriptEngine"in s&&"JScript"==s.ScriptEngine()&&(s.ScriptEngineMajorVersion(),s.ScriptEngineMinorVersion(),s.ScriptEngineBuildVersion());D&&jb(8);var lg=function(a){this.a=a||["p"]};A(lg,T);U.p=lg;r=lg.prototype;r.w=function(){return"p"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.jd=function(){return this.a[3]};r.fd=function(a){this.a[3]=a};r.rb=function(){return this.a[4]};r.$h=function(a){this.a[4]=a};r.Yh=function(){return this.a[5]};r.Zh=function(a){this.a[5]=a};r.ed=function(){return this.a[6]};r.ke=function(a){this.a[6]=a};var mg=function(a){this.a=a||["ru"];this.a[15]=this.a[15]||[]};A(mg,T);U.ru=mg;r=mg.prototype;r.w=function(){return"ru"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.Ra=function(){return this.a[18]};r.Xc=function(a){this.a[18]=a};r.gc=function(){return this.a[3]};r.Sc=function(a){this.a[3]=a};r.Eh=function(a){this.a[4]=a};r.jh=function(){return this.a[5]};r.Hh=function(a){this.a[5]=a};r.Gh=function(a){this.a[6]=a};r.Ih=function(a){this.a[7]=a};r.Gb=function(){return this.a[8]};
    r.de=function(a){this.a[8]=a};r.Kh=function(a){this.a[9]=a};r.kh=function(){return this.a[10]};r.Jh=function(a){this.a[10]=a};r.lh=function(){return this.a[11]};r.Sa=function(){return this.a[12]};r.Tc=function(a){this.a[12]=a};r.Uc=function(){return this.a[13]};r.vf=function(a){this.a[13]=a};r.ih=function(){return this.a[14]};r.uf=function(){return this.a[15]};r.nf=function(a){this.a[20]=a};r.mh=function(){return this.a[21]};r.oh=function(a){this.a[21]=a};r.ee=function(){return this.a[22]};var ng=function(a){this.a=a||["vrq"];this.a[2]=this.a[2]||[]};A(ng,T);U.vrq=ng;ng.prototype.w=function(){return"vrq"};ng.prototype.hb=function(){return this.a[1]};var og=function(a){this.a=a||["vrqr"];this.a[2]=this.a[2]||[]};A(og,T);U.vrqr=og;og.prototype.w=function(){return"vrqr"};og.prototype.hb=function(){return this.a[1]};var pg=function(a){this.a=a||[]};A(pg,T);pg.prototype.ni=function(){return this.a[5]};pg.prototype.oi=function(){return this.a[8]};var rg=function(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();"undefined"==typeof d&&f(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,l,n,m,q,w){if("%"==m)return"%";var P=c.shift();"undefined"==typeof P&&f(Error("[goog.string.format] Not enough arguments"));arguments[0]=P;return qg[m].apply(k,arguments)})},qg={s:function(a,b,c){return isNaN(c)||""==c||a.length>=c?a:a=-1<b.indexOf("-",0)?a+Array(c-a.length+
        1).join(" "):Array(c-a.length+1).join(" ")+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var g;g=0>a?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=a&&(d=g+d);if(isNaN(c)||d.length>=c)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=c-d.length-g.length;return d=0<=b.indexOf("-",0)?g+d+Array(a+1).join(" "):g+Array(a+1).join(0<=b.indexOf("0",0)?"0":" ")+d},d:function(a,b,c,d,e,g,h,l){return qg.f(parseInt(a,10),b,c,d,0,g,h,l)}};qg.i=qg.d;qg.u=qg.d;var sg=function(a){this.a=a||[]};A(sg,T);r=sg.prototype;r.Kb=function(){return this.a[0]};r.Ga=function(a){this.a[0]=a};r.zg=function(){return this.a[11]};r.Ld=function(a){this.a[11]=a};r.Re=function(){return this.a[12]};r.Jd=function(a){this.a[12]=a};r.mj=function(){return this.a[1]};r.Gc=function(a){this.a[1]=a};r.nj=function(){return this.a[18]};r.Gd=function(a){this.a[18]=a};r.Il=function(){return this.a[19]};r.vm=function(a){this.a[19]=a};r.ij=function(){return this.a[2]};
    r.Ng=function(a){this.a[2]=a};r.sj=function(){return this.a[3]};r.Wm=function(a){this.a[3]=a};r.Ul=function(){return this.a[8]};r.Om=function(a){this.a[8]=a};r.Vl=function(){return this.a[9]};r.Pm=function(a){this.a[9]=a};r.Wl=function(){return this.a[10]};r.Qm=function(a){this.a[10]=a};r.Tl=function(){return this.a[13]};r.zm=function(a){this.a[13]=a};r.Nl=function(){return this.a[14]};r.Nm=function(a){this.a[14]=a};r.kj=function(){return this.a[15]};r.Xg=function(a){this.a[15]=a};r.hj=function(){return this.a[16]};
    r.Xe=function(a){this.a[16]=a};r.tj=function(){return this.a[17]};r.Am=function(a){this.a[17]=a};r.Ol=function(){return this.a[21]};r.ym=function(a){this.a[21]=a};r.Ll=function(){return this.a[20]};r.wm=function(a){this.a[20]=a};r.Ml=function(){return this.a[24]};r.xm=function(a){this.a[24]=a};r.Hl=function(){return this.a[22]};r.um=function(a){this.a[22]=a};r.Xl=function(){return this.a[23]};r.dn=function(a){this.a[23]=a};r.Sl=function(){return this.a[5]};r.Zm=function(a){this.a[5]=a};r.Rl=function(){return this.a[25]};
    r.Ym=function(a){this.a[25]=a};r.jj=function(){return this.a[29]};r.Og=function(a){this.a[29]=a};r.lj=function(){return this.a[30]};r.Pg=function(a){this.a[30]=a};r.Pl=function(){return this.a[26]};r.Xm=function(a){this.a[26]=a};r.Ql=function(){return this.a[27]};r.bn=function(a){this.a[27]=a};var V=function(){this.a=[]};A(V,sg);V.prototype.Vm=function(a){this.ln=a};V.prototype.Kl=function(){return this.ln};V.prototype.an=function(a){this.kn=a};V.prototype.Jl=function(){return this.kn};var tg=function(){};tg.prototype.g=K("apps.photos.imagurl.ImageUrlOptionsParser");var ug=function(a,b){return rg("For token '%s': %s",a,b)};
    tg.prototype.parse=function(a){var b=new V,c=new V;if(""==a)a=j;else{for(var a=a.split("-"),d=j,e=0;e<a.length;e++){var g=a[e],h=g.substring(0,1);if("O"==h||"J"==h){for(h="";12>h.length&&e<a.length;)g=a[e],h=h+"-"+g,e++;g=h.substring(1)}var l=b,h=c;if(0==g.length)this.g.o("Empty tokens not allowed."),g=o;else{var n=i,m=g.substring(0,1),n=g.substring(1);if("f"==m.toLowerCase()&&("h"==n||"v"==n))m=g,n="";var n=[m,n],m=n[0],n=n[1],q=i;switch(m.toLowerCase()){case "e":case "s":case "w":case "x":case "y":case "z":h=
        this.Ej(m,n,l,h,vg(m));h==k?q=j:(this.Bj(g,h),q=o);break;case "a":case "b":case "c":case "d":case "fh":case "fv":case "g":case "i":case "k":case "n":case "p":case "u":case "v":h=this.Dj(m,n,l,h,wg(m));h==k?q=j:(this.Aj(g,h),q=o);break;case "f":case "j":case "q":case "t":h=this.Fj(m,n,l,h,xg(m));h==k?q=j:(this.Cj(g,h),q=o);break;case "h":case "o":case "r":c:{var q=[],w=[];this.fm(m,q,w);var P=[],B=[],wa=i;for(wa in q){var Gb=q[wa],Ta=w[wa],Ta=yg(this,Gb)(m,n,l,h,Ta);if(Ta==k){q=j;break c}P.push(Gb);
        B.push(Ta)}for(wa in B)Gb=P[wa],Ta=B[wa],zg(this,Gb)(g,Ta);q=o}break;default:this.g.o("Unrecognized option."),q=o}g=q}d=d&&g}a=d}return new Ag(b,c,a)};
    var vg=function(a){switch(a.toLowerCase()){case "e":return V.prototype.Nm;case "s":return V.prototype.Ga;case "w":return V.prototype.Ld;case "x":return V.prototype.Om;case "y":return V.prototype.Pm;case "z":return V.prototype.Qm;default:return function(){}}},wg=function(a){switch(a.toLowerCase()){case "a":return V.prototype.wm;case "b":return V.prototype.um;case "c":return V.prototype.Gc;case "d":return V.prototype.Ng;case "fh":return V.prototype.Og;case "fv":return V.prototype.Pg;case "g":return V.prototype.zm;
        case "i":return V.prototype.ym;case "k":return V.prototype.Xe;case "n":return V.prototype.vm;case "p":return V.prototype.Gd;case "u":return V.prototype.Am;case "v":return V.prototype.xm;default:return function(){}}},xg=function(a){switch(a.toLowerCase()){case "f":return V.prototype.Xg;case "j":return V.prototype.an;case "q":return V.prototype.bn;case "t":return V.prototype.dn;default:return function(){}}};
    tg.prototype.fm=function(a,b,c){switch(a.toLowerCase()){case "h":b.push(1,0);c.push(V.prototype.Wm,V.prototype.Jd);break;case "o":b.push(1,2);c.push(V.prototype.Xm,V.prototype.Vm);break;case "r":b.push(1,0),c.push(V.prototype.Zm,V.prototype.Ym)}};var Bg=function(a,b,c,d,e){e.apply(c,[b]);a=a.substring(0,1);e.apply(d,[a==a.toUpperCase()])};r=tg.prototype;r.Ej=function(a,b,c,d,e){if(""==b)return 0;b=parseInt(b,10);if(isNaN(b))return 1;Bg(a,b,c,d,e);return k};
    r.Bj=function(a,b){switch(b){case 1:this.g.o(ug(a,"Option value could not be interpreted as an integer."));break;case 0:this.g.o(ug(a,"Missing value for integer option."))}};r.Dj=function(a,b,c,d,e){if(""!=b)return 2;Bg(a,j,c,d,e);return k};r.Aj=function(a,b){switch(b){case 2:this.g.o(ug(a,"Unexpected value specified for boolean option."))}};r.Fj=function(a,b,c,d,e){if(""==b)return 0;Bg(a,b,c,d,e);return k};r.Cj=function(a,b){switch(b){case 0:this.g.o(ug(a,"Missing value for string option."))}};
    var yg=function(a,b){switch(b){case 0:return y(a.Ej,a);case 1:return y(a.Dj,a);case 2:return y(a.Fj,a);default:return function(){}}},zg=function(a,b){switch(b){case 0:return y(a.Bj,a);case 1:return y(a.Aj,a);case 2:return y(a.Cj,a);default:return function(){}}},Ag=function(a,b,c){this.Dc=a;this.zj=b;this.tb=c};Ag.prototype.Md=function(){return this.tb};var Dg=function(a){Cg(this,a)};Dg.prototype.g=K("apps.photos.imagurl.ImageUrlOptionsBuilder");var Eg=function(a){a.Ck==k&&(a.Ck=new tg);return a.Ck},Cg=function(a,b){a.Na=[];a.La=b?x(b)?Eg(a).parse(b):b:Eg(a).parse("")},Fg=function(a,b,c,d){b||"number"==typeof b&&0==b||(b=i);var e=a.La.Dc,g=a.La.zj,h=c.call(e);b!=h&&(h!=i&&c.call(g)&&a.g.o("Changing an option included in the url signature! The signature will now probably be invalid."),d.call(e,b))};r=Dg.prototype;
    r.Gc=function(a){a&&this.Gd(o);Fg(this,a,V.prototype.mj,V.prototype.Gc);return this};r.Ng=function(a){Fg(this,a,V.prototype.ij,V.prototype.Ng);return this};r.Jd=function(a){t(a)&&this.Ga();Fg(this,a,V.prototype.Re,V.prototype.Jd);return this};r.Xg=function(a){a&&(a=a.replace(";",":"));Fg(this,a,V.prototype.kj,V.prototype.Xg);return this};r.Og=function(a){Fg(this,a,V.prototype.jj,V.prototype.Og);return this};r.Pg=function(a){Fg(this,a,V.prototype.lj,V.prototype.Pg);return this};
    r.Xe=function(a){Fg(this,a,V.prototype.hj,V.prototype.Xe);return this};r.Ga=function(a){ha(a)&&(a=Math.max(a.width,a.height));t(a)&&(this.Ld(),this.Jd());Fg(this,a,V.prototype.Kb,V.prototype.Ga);return this};r.Gd=function(a){a&&this.Gc(o);Fg(this,a,V.prototype.nj,V.prototype.Gd);return this};r.Ld=function(a){t(a)&&this.Ga();Fg(this,a,V.prototype.zg,V.prototype.Ld);return this};
    r.Eg=function(){this.Na.length=0;var a=this.La.Dc;a.tj()?a.Kb()||this.Ga(0):(a=this.La.Dc,!a.Kb()&&!a.zg()&&!a.Re()&&(this.Gc(),this.Ga(),this.Jd(),this.Gd(),this.Ld()));Gg(this,"s",V.prototype.Kb);Gg(this,"w",V.prototype.zg);W(this,"c",V.prototype.mj);W(this,"d",V.prototype.ij);Gg(this,"h",V.prototype.Re);W(this,"h",V.prototype.sj);W(this,"p",V.prototype.nj);W(this,"n",V.prototype.Il);Gg(this,"r",V.prototype.Rl);W(this,"r",V.prototype.Sl);W(this,"fh",V.prototype.jj);W(this,"fv",V.prototype.lj);W(this,
        "o",V.prototype.Pl);Hg(this,"o",V.prototype.Kl);Hg(this,"j",V.prototype.Jl);Gg(this,"x",V.prototype.Ul);Gg(this,"y",V.prototype.Vl);Gg(this,"z",V.prototype.Wl);W(this,"g",V.prototype.Tl);Gg(this,"e",V.prototype.Nl);Hg(this,"f",V.prototype.kj);W(this,"k",V.prototype.hj);W(this,"u",V.prototype.tj);W(this,"i",V.prototype.Ol);W(this,"a",V.prototype.Ll);W(this,"b",V.prototype.Hl);Hg(this,"t",V.prototype.Xl);W(this,"v",V.prototype.Ml);Hg(this,"q",V.prototype.Ql);return this.Na.join("-")};
    var Gg=function(a,b,c){var d=c.apply(a.La.Dc,[]);d==i||d==k||Ig(a,b,d,c)},W=function(a,b,c){c.apply(a.La.Dc,[])&&Ig(a,b,"",c)},Hg=function(a,b,c){var d=c.apply(a.La.Dc,[]);d&&Ig(a,b,d,c)},Ig=function(a,b,c,d){d.apply(a.La.zj,[])&&(b=b.substring(0,1).toUpperCase()+b.substring(1));a.Na.push(b+c)};var Jg=/^[^\/]*\/\//,Kg=function(){};Kg.prototype.parse=function(a){return new Lg(a)};
    var Lg=function(a){this.Od=a;this.Ue="";a=this.Od.match(Jg);!a||!a[0]?a="http://"+this.Od:(this.Ue=a[0],a=this.Ue.match(/\w+/)?this.Od:"http://"+this.Od.substring(this.Ue.length));this.Eb=wd(a,j);this.tb=j;this.Tj=o},Mg=function(a){if(a.Na==i){a.Na=a.Eb.J.substring(1).split("/");var b=a.Na.length;if(7==b||2==b)"image"!=a.Na[0]&&(a.tb=o);else if(7<b||2<b&&5>b||0==b)a.tb=o}if(2>=b){a.Tj=j;var b=b-1,c=a.Na[b],d=c.indexOf("=");-1!=d&&(a.Na[b]=c.substr(0,d),a.Na.push(c.substr(d+1)))}return a.Na};
    Lg.prototype.Md=function(){Mg(this);return this.tb};var Ng=function(a){Mg(a);return a.Tj};Lg.prototype.K=function(){var a=this.Eb.ya;return this.Eb.K()+(a?":"+a:"")};Lg.prototype.bd=function(){return this.Eb.S.toString()};
    var Og=function(a){if(a.ah!=i)return a.ah;a.ah="image"==Mg(a)[0]?"image":k;return a.ah},Pg=function(a){switch(Mg(a).length){case 7:return j;case 6:return Og(a)==k;case 5:return o;case 3:return j;case 2:return Og(a)==k;case 1:return o;default:return o}},Qg=function(a,b){var c;if(Ng(a))a:{c=Og(a)!=k?1:0;switch(b){case 6:c=0+c;break;case 4:if(!Pg(a)){c=k;break a}c=1+c;break;default:c=k;break a}c=Mg(a)[c]}else a:{c=Og(a)!=k?1:0;switch(b){case 0:c=0+c;break;case 1:c=1+c;break;case 2:c=2+c;break;case 3:c=
        3+c;break;case 4:if(!Pg(a)){c=k;break a}c=4+c;break;case 5:var d=Pg(a)?1:0;c=4+c+d;break;default:c=k;break a}c=Mg(a)[c]}return c};Lg.prototype.Ra=function(){this.Db==i&&(this.Db=Qg(this,0));return this.Db};var Rg=function(a){a.Dk==i&&(a.Dk=Qg(a,1));return a.Dk},Sg=function(a){a.Ak==i&&(a.Ak=Qg(a,2));return a.Ak};Lg.prototype.Ne=function(){this.Fk==i&&(this.Fk=Qg(this,3));return this.Fk};Lg.prototype.Fe=function(){this.Bk==i&&(this.Bk=Qg(this,4));return this.Bk};
    var Tg=function(a){a.yk==i&&(a.yk=Qg(a,5));return a.yk};var Vg=function(a){x(a)&&(Ug==i&&(Ug=new Kg),a=Ug.parse(a));a=this.ha=a;if(a.La==i){var b=a.Fe();b||(b="");a.La=(new tg).parse(b)}Cg(this,a.La);this.Gl=this.ha.Ue;this.Y=this.ha.K();this.qj=this.ha.bd()},Ug;A(Vg,Dg);
    Vg.prototype.Eg=function(){if(!this.ha.Md())return this.ha.Od;var a=Vg.n.Eg.call(this),b=[];Og(this.ha)!=k&&b.push(Og(this.ha));if(Ng(this.ha)){var c=this.ha;c.Jj==i&&(c.Jj=Qg(c,6));b.push(c.Jj+(a?"="+a:""))}else b.push(this.ha.Ra()),b.push(Rg(this.ha)),b.push(Sg(this.ha)),b.push(this.ha.Ne()),a&&b.push(a),b.push(Tg(this.ha));return this.Gl+this.Y+"/"+b.join("/")+(this.qj?"?"+this.qj:"")};var Wg=function(a,b,c){this.g=K("chat.model.Contact");this.Fa=a.get("ja");this.L=a.get("ga");this.Lb=If(b);this.xj=c;this.ge=this.ae=0;this.wj=k;this.ce=[];this.of=[];this.g.info("Creating contact for '"+b+"' ("+c+")");this.rc=a.get("ka");this.jc=a.get("ha");Wb(this.jc,"vrqr",this.Mi,o,this)};A(Wg,S);Wg.prototype.h=function(){Wg.n.h.call(this);$b(this.jc,"vrqr",this.Mi,o,this)};var Xg=function(a,b){G.call(this,a);this.tf=b};A(Xg,G);
    var Yg=function(a){switch(a){case "u":return 1;case "i":return 3;case "b":return 4;default:return 5}};r=Wg.prototype;r.kc="u";r.jn=0;r.$d=k;r.Zg="a";r.nh=o;r.pf=o;r.k=function(){return this.Lb};r.Sa=function(){return this.xj};r.Tc=function(a){this.xj=a};r.ed=function(){return this.jn};r.Ef=function(){return this.wj};r.zf=function(a){this.wj=a};r.jd=function(){return this.kc};r.Hb=function(a){var b=this.Ha!=a;this.Ha=a;b&&(delete this.Oo,X(this,"t"));return b};
    r.Sc=function(a){var b=this.Uj!=a;this.Uj=a;b&&X(this,"n");return b};r.gc=function(){var a=this.Lb.toString(),b;if(!(b=this.L.xh))if(b=If(a),!(b=t(b.ob)&&("bot.talk.google.com"==b.K()||"prom.corp.google.com"==b.K()||"appspot.com"==b.K()||/promchat\.corp\.google\.com$/.test(b.K())||/appspotchat\.com$/.test(b.K()))))if(b=a,x(b)&&(b=If(b)),!(b="public.talk.google.com"==b.K()))if(!(b=Jf(a)))a=If(a),b=Ff.test(a.K());return b?"":this.Uj};r.Xc=function(a){var b=this.Db!=a;this.Db=a;b&&X(this,"q");return b};
    r.Ra=function(){return u(this.Db)?this.Db:k};var Zg=function(a,b){var c=a.mn!=b;a.mn=b;c&&X(a,"r");return c};r=Wg.prototype;r.fg=function(a){var b=this.gf!=a;this.gf=a;b&&X(this,"j");return b};r.Dh=function(){return t(this.gf)&&""!=this.gf?this.gf:"//ssl.gstatic.com/s2/profiles/images/silhouette80.png"};r.oh=function(a){var b=this.$d!=a;this.$d=a;b&&X(this,"y");return b};r.mh=function(a){return t(this.$d)&&""!=this.$d?(new Vg(this.$d)).Ga(a).Gc(j).Xe(j).Eg():k};
    r.de=function(a){var b=this.zk!=a;this.zk=a;b&&X(this,"o");return b};r.Gb=function(){return this.zk};r.vf=function(a){var a=t(a)?a:1,b=this.me!=a;this.me=a;b&&X(this,"E");return b};r.Uc=function(){return this.me};r.yf=function(a){var b=this.Zg!=a;this.Zg=a;b&&X(this,"m");return b};r.Df=function(){return this.Zg};r.nf=function(a){return this.ge<a?(this.ge=a,X(this,"s"),j):o};r.toString=function(){return this.Lb.toString()};var X=function(a,b){a.dispatchEvent(new Xg(b,a))};
    Wg.prototype.Mi=function(a){a=De(a.Qa);if(a.hb()==this.Lb.toString()){if(!a.Rf){a.Rf=[];for(var b=0;b<a.a[2].length;b++)a.Rf[b]=new pg(a.a[2][b])}for(var a=a.Rf,c=o,b=this.ce,d=0;d<a.length;d++){var e=a[d];if(0==e.a[1])for(var g=e.a[0],h=e.ni(),l=e.a[7],n=e.oi(),e=e.a[9],m=0;m<b.length;m++)if(b[m].pd==g){g=b[m];m=o;g.mi=h;if(!t(g.Sf)||g.Sf!=l)g.Sf=l,m=j;if(!t(g.we)||g.we!=n)g.we=n,m=j;if(!t(g.Qf)||g.Qf!=e)g.Qf=e,m=j;c|=m;break}}c&&X(this,"z")}};var $g=function(a){this.Qd=a},ah=function(a,b){this.sm=a;this.V=b},bh={mp:"1",rp:"p",np:"h",kp:"b",sp:"j",pp:"nv",zp:"ao",vp:"aw",yp:"ai",wp:"ab",up:"aa",xp:"ac",Cp:"sn",Dp:"st",Bp:"sf",Ap:"sb",Ep:"wb",lp:"bp",qp:"po",op:"lct"},ch=function(a,b){var c=a.V.get("1",0);switch(b.Gb()){case "P":c+=a.V.get("p",0);break;case "H":c+=a.V.get("h",0);break;case "B":c+=a.V.get("b",0)}b.pf&&(c+=a.V.get("j",0));b.xf&&(c+=a.V.get("nv",0));switch(b.jd()){case "u":c+=a.V.get("ao",0);break;case "w":c+=a.V.get("aw",
        0);break;case "i":c+=a.V.get("ai",0);break;case "b":c+=a.V.get("ab",0);break;case "a":c+=a.V.get("aa",0);break;case "c":c+=a.V.get("ac",0)}switch(b.Uc()){case 1:c+=a.V.get("sn",0);break;case 2:c+=a.V.get("st",0);break;case 3:c+=a.V.get("sf",0);break;case 4:c+=a.V.get("sb",0)}c+=b.ae*a.V.get("wb",0);c+=b.ge*a.V.get("lct",0);Jf(b.Lb.toString())&&(c+=a.V.get("po",0));return a.sm?0<c?1:0:c},dh=function(a){for(var a=a.split(" "),b=[],c=0;c<a.length;++c)if(t(a[c])&&""!=a[c]){var d,e=a[c],g=e.length-1;"["==
        e.charAt(0)&&"]"==e.charAt(g)?d=j:"{"==e.charAt(0)&&"}"==e.charAt(g)?d=o:f(Error("evaluations must start with '[' or '{', end with ']' or '}', but now it's "+e.charAt(0)+" and "+e.charAt(g)));for(var e=e.slice(1,g).split(","),g=new H,h=0;h<e.length;++h){var l=e[h].split(":");2!=l.length&&f(Error("missing ':' between name and value."));var n=o,m;for(m in bh)bh[m]==l[0]&&(n=j);n||f(Error("Invaid evaluation field: "+l[0]));n=parseInt(l[1],10);isNaN(n)&&f(Error("Invaid evaluation weight: "+l[1]));g.set(l[0],
        n)}0<g.U()&&b.push(new ah(d,g))}return new $g(b)};$g.prototype.Lf=function(a,b){if(a==b)return 0;for(var c=0;c<this.Qd.length;++c){var d=ch(this.Qd[c],a),e=ch(this.Qd[c],b);if(d>e)return-1;if(d<e)return 1}c=b.Ha;if(t(a.Ha)&&t(c)&&(c=a.Ha.toLowerCase()==b.Ha.toLowerCase()?0:a.Ha.toLowerCase()>b.Ha.toLowerCase()?1:-1,0!=c))return c;c=a.k().toString();d=b.k().toString();return c==d?0:c>d?1:-1};var eh=function(){this.li=o};A(eh,S);var gh=function(a){this.li=o;this.Kf=[];this.L=a.get("ga");this.Gf=(this.ai=0<=this.L.mc)?this.L.mc:10;this.Tk=dh(Ge(Ne(this.L)));a=Ne(this.L);this.ii=dh(a.a[14]);this.Uk=dh("{ac:5,aa:4,ab:3,ai:2,aw:1,ao:0}");this.Ff=this.ii;this.te=[];this.qc=k;for(var a=Ne(this.L).a[12].split("\n"),b=0;b<a.length;++b)this.te.push(dh(Ge(Ne(this.L))+" "+a[b]));this.te.push(dh(""));this.oc=o;fh(this)};A(gh,eh);gh.prototype.h=function(){gh.n.h.call(this);ie.clearTimeout(this.qc);this.qc=k};
    gh.prototype.ic=function(){ie.clearTimeout(this.qc);this.qc=k;if(this.oc){for(var a=[],b=0;b<this.Ja.length-1;++b){var c=this.tc[b],d=0,e=this;gg(this.Ja[b],function(b){++d;var h;if(h=d<=c){a:{h=e.Tk;for(var l=0;l<h.Qd.length;++l)if(0>=ch(h.Qd[l],b)){h=o;break a}h=j}h=h&&t(b.Sa())}return h?(a.push(b),o):j})}this.oc=o;b=a.sort(y(this.Ff.Lf,this.Ff));Qa(this.Kf,b)||(this.Kf=b,this.dispatchEvent("G"))}return this.Kf};var hh=function(a){for(var a=a.ic(),b=[],c=0;c<a.length;++c)b.push(a[c].Sa());return b};
    gh.prototype.Oj=function(a,b){for(var c=b?b:0;c<a.length;++c)if(ih(this,a[c]),0==(c+1)%25&&c+1<a.length){ke(y(this.Oj,this,a,c+1),1);return}this.ic()};
    var jh=function(a){var b=parseInt(a,10);isNaN(b)&&f(Error("Not a number: "+a));return b},fh=function(a){for(var b=Ne(a.L).a[13],c=a.Gf,d=b.split(","),e=[],g=0,h=-1,l=0;l<d.length;++l)if("*"==d[l])-1!=h&&f(Error("multiple '*' components found in spec: "+b)),h=l,e.push(0);else{var n=d[l].split("/");3!=n.length&&f(Error("component specs must be '*' or of the form a/b/c: "+d[l]));e.push(Math.max(jh(n[0]),Math.floor(c*jh(n[1])/jh(n[2]))));g+=e[l]}-1==h&&f(Error("no '*' component found in spec: "+b));g>
        c&&f(Error("total component sizes adds to more than 100%"));e[h]=c-g;e.push(Number.MAX_VALUE);a.tc=e;a.Ja=[];for(b=0;b<a.tc.length;++b)a.Ja.push(new Zf(y(a.te[b].Lf,a.te[b])))},ih=function(a,b){a.oc=j;for(var c=0;!(a.Ja[c].add(b),a.Ja[c].U()<=a.tc[c]);++c)kh(a,c,b)&&(b=lh(a,c))},mh=function(a,b){a.oc=j;for(var c=0;;++c)if(a.Ja[c].U()<=a.tc[c]){a.Ja[c].remove(b);break}else if(kh(a,c,b)){var d=lh(a,c);a.Ja[c].remove(b);b=d}else a.Ja[c].remove(b)},kh=function(a,b,c){var d=o,e=a.tc[b],g=0;gg(a.Ja[b],
        function(a){if(g<e&&c==a)return d=j;++g;return o});return d},lh=function(a,b){var c=k,d=a.tc[b],e=0;gg(a.Ja[b],function(a){if(e==d)return c=a,j;++e;return o});return c},nh=function(a,b){t(b)&&mh(a,b)},oh=function(a,b,c){t(b)&&(ih(a,b),!a.li&&c&&ea(a.qc)&&(a.qc=ke(a.ic,500,a)))};var ph=function(a){this.a=a||["cs"]};A(ph,T);U.cs=ph;r=ph.prototype;r.w=function(){return"cs"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.Df=function(){return this.a[2]};r.yf=function(a){this.a[2]=a};var qh=function(a){this.a=a||["cds"]};A(qh,T);U.cds=qh;qh.prototype.w=function(){return"cds"};qh.prototype.Oh=function(){return this.a[1]};qh.prototype.Ph=function(a){this.a[1]=a};var rh=function(a){this.a=a||["cdr"];this.a[2]=this.a[2]||[]};A(rh,T);U.cdr=rh;rh.prototype.w=function(){return"cdr"};rh.prototype.Oh=function(){return this.a[1]};rh.prototype.Ph=function(a){this.a[1]=a};var sh=function(a){this.a=a||[]};A(sh,T);r=sh.prototype;r.k=function(){return this.a[0]};r.R=function(a){this.a[0]=a};r.Ef=function(){return this.a[1]};r.zf=function(a){this.a[1]=a};r.jd=function(){return this.a[2]};r.fd=function(a){this.a[2]=a};r.ed=function(){return this.a[3]};
    r.ke=function(a){this.a[3]=a};var th=function(a){this.a=a||[]};A(th,T);var uh=function(a){this.a=a||["cgu"]};A(uh,T);U.cgu=uh;r=uh.prototype;r.w=function(){return"cgu"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.Ra=function(){return this.a[2]};r.Xc=function(a){this.a[2]=a};r.ee=function(){return this.a[3]};var vh=function(a){this.a=a||["rf"]};A(vh,T);U.rf=vh;vh.prototype.w=function(){return"rf"};var wh=function(a){this.a=a||["otr"];this.a[1]=this.a[1]||[]};A(wh,T);U.otr=wh;wh.prototype.w=function(){return"otr"};var yh=function(a){if(!a.ag){a.ag=[];for(var b=0;b<a.a[1].length;b++)a.ag[b]=new xh(a.a[1][b])}return a.ag},xh=function(a){this.a=a||[]};A(xh,T);xh.prototype.k=function(){return this.a[0]};xh.prototype.R=function(a){this.a[0]=a};xh.prototype.Hf=function(){return this.a[1]};var zh=function(a){this.a=a||["rd"]};A(zh,T);U.rd=zh;zh.prototype.w=function(){return"rd"};zh.prototype.k=function(){return this.a[1]};zh.prototype.R=function(a){this.a[1]=a};var Ah=function(a){this.a=a||["vc"]};A(Ah,T);U.vc=Ah;r=Ah.prototype;r.w=function(){return"vc"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.getName=function(){return this.a[2]};r.Hb=function(a){this.a[2]=a};r.Pi=function(){return this.a[3]};r.Fh=function(a){this.a[3]=a};var Ch=function(a,b){this.Ud=a||k;this.Gg=!!b;this.r=new H;this.q=new Bh("",i);this.q.next=this.q.Da=this.q},Eh=function(a,b){var c=a.r.get(b);c&&a.Gg&&(c.remove(),Dh(a,c));return c};r=Ch.prototype;r.get=function(a,b){var c=Eh(this,a);return c?c.value:b};r.set=function(a,b){var c=Eh(this,a);c?c.value=b:(c=new Bh(a,b),this.r.set(a,c),Dh(this,c))};r.shift=function(){return Fh(this,this.q.next)};r.pop=function(){return Fh(this,this.q.Da)};
    r.remove=function(a){return(a=this.r.get(a))?(this.removeNode(a),j):o};r.removeNode=function(a){a.remove();this.r.remove(a.key)};r.U=function(){return this.r.U()};r.fb=function(){return this.r.fb()};r.Va=function(){return this.map(function(a,b){return b})};r.ga=function(){return this.map(function(a){return a})};r.contains=function(a){return this.some(function(b){return b==a})};r.$=function(a){return this.r.$(a)};r.clear=function(){Gh(this,0)};
    r.forEach=function(a,b){for(var c=this.q.next;c!=this.q;c=c.next)a.call(b,c.value,c.key,this)};r.map=function(a,b){for(var c=[],d=this.q.next;d!=this.q;d=d.next)c.push(a.call(b,d.value,d.key,this));return c};r.some=function(a,b){for(var c=this.q.next;c!=this.q;c=c.next)if(a.call(b,c.value,c.key,this))return j;return o};r.every=function(a,b){for(var c=this.q.next;c!=this.q;c=c.next)if(!a.call(b,c.value,c.key,this))return o;return j};
    var Dh=function(a,b){a.Gg?(b.next=a.q.next,b.Da=a.q,a.q.next=b,b.next.Da=b):(b.Da=a.q.Da,b.next=a.q,a.q.Da=b,b.Da.next=b);a.Ud!=k&&Gh(a,a.Ud)},Gh=function(a,b){for(var c=a.r.U();c>b;c--)a.removeNode(a.Gg?a.q.Da:a.q.next)},Fh=function(a,b){a.q!=b&&a.removeNode(b);return b.value},Bh=function(a,b){this.key=a;this.value=b};Bh.prototype.remove=function(){this.Da.next=this.next;this.next.Da=this.Da;delete this.Da;delete this.next};var Hh=function(){this.kb=[]};Hh.prototype.q=0;Hh.prototype.Ab=0;var Ih=function(a){if(a.q!=a.Ab){var b=a.kb[a.q];delete a.kb[a.q];a.q++;return b}};r=Hh.prototype;r.U=function(){return this.Ab-this.q};r.fb=function(){return 0==this.Ab-this.q};r.clear=function(){this.Ab=this.q=this.kb.length=0};r.contains=function(a){return 0<=Fa(this.kb,a)};r.remove=function(a){a=Fa(this.kb,a);if(0>a)return o;if(a==this.q)Ih(this);else{var b=this.kb;Da(b.length!=k);C.splice.call(b,a,1);this.Ab--}return j};
    r.ga=function(){return this.kb.slice(this.q,this.Ab)};K("talk.media.CallEvent");var Jh=function(a){this.a=a||["ft:ccr"];this.a[1]=this.a[1]||[]};A(Jh,T);U["ft:ccr"]=Jh;Jh.prototype.w=function(){return"ft:ccr"};var Kh=o,Lh=function(a){a.match(/[\d]+/g).length=3};
    if(navigator.plugins&&navigator.plugins.length){var Mh=navigator.plugins["Shockwave Flash"];Mh&&(Kh=j,Mh.description&&Lh(Mh.description));navigator.plugins["Shockwave Flash 2.0"]&&(Kh=j)}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var Nh=navigator.mimeTypes["application/x-shockwave-flash"];(Kh=Nh&&Nh.enabledPlugin)&&Lh(Nh.enabledPlugin.description)}else try{var Oh=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),Kh=j;Lh(Oh.GetVariable("$version"))}catch(Ph){try{Oh=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),
        Kh=j}catch(Qh){try{Oh=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),Kh=j,Lh(Oh.GetVariable("$version"))}catch(Rh){}}};var Sh=function(){},Th=k;Th==k&&(Th=new Sh);K("talk.media.Client3DDetector");Sh.prototype.reset=function(){};K("talk.media.FlashDetector");K("talk.media.RendererDetector");new Ac([4,2]);K("talk.media.CallManager");var Uh=function(a){this.L=a.get("ga");var b=this.L.th?"u":this.L.sh;this.g=K("chat.model.Me");this.rc=a.get("ka");this.Dd=new Ac;this.he="a"==b||"b"==b?b:"a";this.em="";this.gm=j};A(Uh,S);Uh.prototype.h=function(){Uh.n.h.call(this);this.Dd.clear()};Uh.prototype.fd=function(a,b){return("a"==a||"b"==a)&&this.he!=a?(this.he=a,this.dispatchEvent("$"),(!u(b)||b)&&this.rc.hg(["pu",this.he,this.em,this.Dd.contains("invisible")]),j):o};
    var Vh=function(a){if(a.rk()){if(a.gm||a.Dd.contains("u"))return"u";if(a.Dd.contains("i"))return"i"}else return k;return"a"};Uh.prototype.rk=function(){return this.Dd.contains("initialized")};var Wh=function(a){Uh.call(this,a)};A(Wh,Uh);var Xh=function(a){this.a=a||["sus"];this.a[1]=this.a[1]||[]};A(Xh,T);U.sus=Xh;Xh.prototype.w=function(){return"sus"};var Yh=function(a){this.a=a||[]};A(Yh,T);Yh.prototype.getName=function(){return this.a[0]};Yh.prototype.Hb=function(a){this.a[0]=a};var $h=function(a){this.g=K("chat.model.Me");this.rc=a.get("ka");this.rh=new Wh(a);Jb(this,this.rh);this.xd=new H;var b=a.get("ga");this.Fa=a.get("ja");this.xl=Le(b).k();this.qg=o;this.Fa.sb.contains(Xf.wl)||(this.qg=j);this.Db=Le(b).Ra();Le(b);this.sf=a;this.Vb=ke(function(){this.Vb=-1;Zh(this)},5E3,this);this.Fa.sb.contains(Xf.vl);this.Fa.sb.contains(Xf.ul)};A($h,S);$h.prototype.h=function(){$h.n.h.call(this);this.xd.clear()};$h.prototype.k=function(){return this.xl};$h.prototype.Ra=function(){return this.Db};
    var ai=function(a,b){return"highResolutionEnabled"==b?"true":a.xd.get(b)},ci=function(a,b,c){var d=!a.xd.$(b);c!=a.xd.get(b)&&(a.xd.set(b,c),a.dispatchEvent(new bi(b,c,o,d)),a.dispatchEvent(new bi(b,c,o,d,["ha",b].join("_"))))},di=function(a){$h.call(this,a);this.qi=o;this.A=new Q(this);R(this.A,a.get("ha"),"sus",this.Hm)};A(di,$h);di.prototype.h=function(){di.n.h.call(this);F(this.A.M());0<this.Vb&&(ie.clearTimeout(this.Vb),this.Vb=-1)};
    var Zh=function(a){0<a.Vb&&(ie.clearTimeout(a.Vb),a.Vb=-1);var b=a.qg;a.qg=j;!b&&a.dispatchEvent("ea")};di.prototype.Hm=function(a){a=new Xh(a.Qa);if(!a.Wf){a.Wf=[];for(var b=0;b<a.a[1].length;b++)a.Wf[b]=new Yh(a.a[1][b])}a=a.Wf;for(b=0;b<a.length;b++){var c=a[b];ci(this,c.getName(),c.a[1])}this.qi||(this.qi=j,this.dispatchEvent("ga"))};var bi=function(a,b,c,d,e){G.call(this,e||"ha");this.name=a;this.value=b;this.mm=c;this.lm=d};A(bi,G);var ei=function(a,b){this.Vc=a;this.pd=b};r=ei.prototype;r.Vc="";r.pd="";r.qf="";r.Ib=4;r.Gk=o;r.tb=o;r.qh="none";r.mi=k;r.Sf=k;r.we=k;r.Qf=k;r.Ka=function(){return this.qh};r.Md=function(){return this.tb};r.hc=function(a){return a.qf!=this.qf||a.Ib!=this.Ib||a.Ka()!=this.Ka()||a.Vc!=this.Vc||(7==a.Ib||18==a.Ib)!=(7==this.Ib||18==this.Ib)||a.Md()!=this.Md()?o:j};r.k=function(){return new Cf("voice.google.com",this.pd,k)};r.ni=function(){return this.mi};r.oi=function(){return this.we};
    r.Lf=function(a,b){var c=(""+a.pd).toLowerCase(),d=(""+b.pd).toLowerCase();return c<d?-1:c==d?0:1};var fi=function(a){this.g=K("chat.model.ContactSet");this.sf=a;this.Fa=a.get("ja");this.rc=a.get("ka");this.Za=a.get("na");this.L=a.get("ga");this.bh=k;this.ua={};this.Mb=new H;this.mf={};this.ab={};this.be=new H;this.dh=new H;this.fc=new H;this.lf=(new Date).getTime();this.$a={};this.hd=0;this.ec={};this.Q=new gh(a);this.Of=new Ch;this.A=new Q(this);Jb(this,this.A);a=a.get("ha");R(this.A,a,"otr",this.el);R(this.A,a,"ru",this.gl);R(this.A,a,"rd",this.fl);R(this.A,a,"vc",this.hl);R(this.A,a,"cds",
        this.cl);R(this.A,a,"cgu",this.dl);this.Fa.sb.contains(Xf.fe)||R(this.A,this.Q,"G",this.jl);R(this.A,a,"cs",this.bl);R(this.A,this.Za,"ha_rosterSize",this.kl);this.Fa.sb.contains(Xf.fe)||R(this.A,this.Za,"ha_rosterSortOption",this.ll);this.Ee=new je(1E3);Jb(this,this.Ee);R(this.A,this.Ee,"tick",this.il,o,this);this.Ee.start()};A(fi,S);var gi=function(a){this.pk=a};gi.prototype.getName=function(a){return"homepage"==a.Nh?this.gh||this.hh||this.Ji||this.pk:this.hh||this.Ji||this.gh||this.pk};
    fi.prototype.h=function(){fi.n.h.call(this);for(var a in this.ua)F(this.ua[a]);for(var b=this.Mb.ga(),c=0;c<b.length;++c)F(b[c]);this.Mb.clear();for(a in this.$a)F(this.$a[a]);this.ab={};this.ua={};this.$a={};this.ec={};F(this.Q);this.Q=k;this.Of.clear();this.hd=0};var hi=function(a,b){G.call(this,a);this.tf=b};A(hi,G);fi.prototype.cl=function(a){this.rc.send(ii(this,new qh(a.Qa)))};
    var ii=function(a,b){var c=new rh;c.Ph(b.Oh());var d=[],e;for(e in a.ua){var g=a.ua[e],h=new sh;h.R(Mf(g.k()).toString());t(g.Ef())&&h.zf(g.Ef());h.fd(Yg(g.kc));h.ke(g.ed());d.push(h)}d=d||[];c.a[2]=[];for(e=0;e<d.length;e++)c.a[2][e]=d[e].a;a.Fa.sb.contains(Xf.Ik)&&(d=new th,e=a.Za.rh,g=Vh(e),g!=k&&(d.a[1]=Yg(g)),d.a[0]=Yg(e.he),c.a[3]=d?d.a:d);return c},ki=function(a,b,c){var b=b instanceof Cf?b.toString():b,d=Lf(If(b))?b:Kf(b),c=c||a.ec[b]||a.ec[d],e=a.ua[b]||a.ua[d];if(!e){var g;a.Mb.$(b)?g=b:
        a.Mb.$(d)&&(g=d);t(g)&&(e=a.Mb.get(g),a.Mb.remove(g),a.ua[g]=e,a.hd++,a.dispatchEvent(new hi("ja",e)))}!e&&c&&(e=a.$a[b]||a.$a[d],e||(e=new Wg(a.sf,b),e.fg(ji(a,"7b8ac4c3c5b468f9ceabd8eea8a9df61574ad997")),a.mf[b]=new gi(b),a.$a[b]=e,a.hd++,a.dispatchEvent(new hi("ja",e))));return e},li=function(a){var b=parseInt(ai(a.Za,"rosterSize"),10);return"number"==typeof b&&!isNaN(b)?b:a.L.Lh};r=fi.prototype;
    r.kl=function(a){if(a.mm||a.lm)0<=this.L.mc?a=this.L.mc:(a=li(this),a=Be[a]),this.rc.hg(["qs",a]);if(0>this.L.mc){var a=this.Q,b=Be[li(this)],c=this.ua;if(!(a.ai||a.Gf==b)){0>b&&f(Error("negative quick list size"));250<b&&(b=250);a.oc=j;a.Gf=b;fh(a);var b=[],d;for(d in c)b.push(c[d]);a.Oj(b)}}};r.ll=function(){var a=this.Q,b=ai(this.Za,"rosterSortOption");if("MOST_POPULAR"==b||"ALPHABETICAL"==b)a.Ff="MOST_POPULAR"==b?a.ii:a.Uk,a.oc=j,a.ic()};
    r.il=function(){var a;if(t(this.fc)){a=Math.floor(((new Date).getTime()-this.lf)/1E3);for(var b=a-3,c=this.fc.Va(),d=0,e=0;e<c.length;++e)c[e]<=b?this.fc.remove(c[e]):d+=this.fc.get(c[e],0);b=this.hd;this.g.info(a+" secs after creation, the ru/pr messages count in the past 3 secs is "+a+" for "+b+" contacts");d<2*b||30<a?(this.g.info("Sending ROSTER_STABLE message at "+a),this.dispatchEvent("sa"),this.fc=k,a=o):a=j}else a=o;a||F(this.Ee)};
    r.gl=function(a){var a=new mg(a.Qa),b,c=o,d=""+a.Sa(),e=a.k(),g=-1;ki(this,e)&&ki(this,e).Sa()!=d&&(c=j,g=ki(this,e).Sa(),this.g.z('previous entry for "'+e+'" under shortId '+g));var h=this.fc;if(t(h)){var l=Math.floor(((new Date).getTime()-this.lf)/1E3),n=h.get(l,0);h.set(l,n+1)}if(d in this.ab&&(b=this.ab[d],e!=b.k().toString()))(this.g.z("contact mismatch for shortId "+d+": "+e+" != "+b.k().toString()),delete this.ab[d],delete this.ua[b.k().toString()],delete this.ec[b.k().toString()],this.dh.remove(b.Ra()),
        h=this.Q,t(b)&&(mh(h,b),h.ic()),F(b),b=ki(this,e),u(b))?(this.ab[d]=b,delete this.ab[b.Sa()],b.Tc(d)):this.g.info("handleRosterUpdate_: no contact for shortId or jid "+d+" "+e);if(!u(b)&&(this.ec[e]=j,b=ki(this,e,j)))this.$a[b.k().toString()]=k,this.ua[e]=b,this.ab[d]=b,b.Tc(d),d=Kf(e),this.be.$(d)&&(h=this.be.get(d),mi(this,b,h,o),this.be.remove(d));c&&delete this.ab[g];c=this.mf[e];c.hh=a.a[2];c.gh=a.a[16];c.qn=a.a[17];e=Lf(If(e))?e:Kf(e);nh(this.Q,b);g=c.getName(this.L);c=b.Hb(g);e==this.bh&&!Df.test(Kf(g))&&
    Zh(this.Za);e=c|=b.Sc(a.gc()||a.k());c=b;g=a.jh();c.ae!=g?(c.ae=g,X(c,"F"),c=j):c=o;c|=e;e=a.Ra();u(e)&&(c|=b.Xc(e),this.dh.set(e,b));c|=Zg(b,a.ee()||o);g=a.lh()||[];e=[];for(d=0;d<g.length;d++)h=g[d],l=new ei(h[0],h[1]),l.qh=h[2],l.Gk=Boolean(h[3]),l.tb=Boolean(h[4]),l.Ib=h[5],l.qf=h[6],e.push(l);g=b;h=g.ce.length!=e.length;for(d=0;d<e.length&&!h;d++)h=e[d],l=g.ce[d],h=h.Vc==l.Vc?!h.hc(l):j;h?(g.ce=e,X(g,"A"),e=j):e=o;e|=c;c=b;g=a.ih();g=Boolean(g);c.nh!=g?(c.nh=g,X(c,"k"),c=j):c=o;e|=c;c=b;g=a.uf();
        d=g==k||c.of.length!=g.length;for(h=0;h<g.length&&!d;h++)g[h]!=c.of[h]&&(d=j);d&&(c.of=g,X(c,"p"));c=e|d;this.g.info("Contactset: the groups for "+b.gc()+" are "+a.uf());e=c;c=b;g=a.a[19];g=Boolean(g);c.pf!=g?(c.pf=g,X(c,"B"),c=j):c=o;e=c=e|c|b.oh(a.mh()||"");c=b;g=a.kh()||"";d=c.eh!=g;c.eh=g;d&&X(c,"x");c=e|d;e="N";switch(a.Gb()){case 1:e="B";break;case 2:e="H";break;case 3:e="N";break;case 4:e="P"}g="B"==b.Gb();b.de(e)&&(g&&b.vf(a.Uc()),c=j);c|=b.nf(a.a[20]);e=!u(b.Uc());b.vf(a.Uc())&&(e||this.dispatchEvent({type:"AS",
            tf:b}),c=j);oh(this.Q,b,j);c&&this.dispatchEvent(new hi("ma",b))};r.fl=function(a){var b=new zh(a.Qa);if(a=ki(this,b.k())||this.$a[b.k()])delete this.ab[a.Sa()],delete this.ua[a.k().toString()],delete this.$a[a.k().toString()],delete this.ec[a.k().toString()],this.Mb.set(b.k(),a),this.hd--,b=this.Q,t(a)&&(mh(b,a),b.ic()),this.dispatchEvent(new hi("ka",a))};
    r.hl=function(a){var b=new Ah(a.Qa);if(a=ki(this,b.k())){var c=this.mf[b.k()];c.Ji=b.getName();nh(this.Q,a);var d=c.getName(this.L),c=a.Hb(d);b.k()==this.bh&&!Df.test(Kf(d))&&Zh(this.Za);b=(b=b.Pi())?ji(this,b):ji(this,"7b8ac4c3c5b468f9ceabd8eea8a9df61574ad997");c|=a.fg(b);oh(this.Q,a);c&&this.dispatchEvent(new hi("ma",a))}else this.g.z("missing contact object for "+b.k())};
    r.dl=function(a){var a=new uh(a.Qa),b=ki(this,a.k());if(b){nh(this.Q,b);var c;c=o|b.Xc(a.Ra());c|=Zg(b,a.ee());oh(this.Q,b);c&&this.dispatchEvent(new hi("ma",b))}else this.g.z("missing contact object for "+a.k())};var ji=function(a,b){var c=new L(b);c.Y||(c=new L(a.L.wf.toString()+"image?h="+b),c.S.add("authuser",Le(a.L).Vj()));return c.toString()};fi.prototype.el=function(a){for(var a=new wh(a.Qa),b=0;b<yh(a).length;++b){var c=yh(a)[b],d=c.k(),e=ki(this,d);e?mi(this,e,c,j):this.be.set(Kf(d),c)}};
    var mi=function(a,b,c,d){nh(a.Q,b);var c=c.Hf(),e=b.xf!=c;b.xf=c;e&&X(b,"v");e&&d&&a.dispatchEvent(new hi("ma",b));oh(a.Q,b)};fi.prototype.jl=function(){ni(this,hh(this.Q))};var ni=function(a,b){a.Of.clear();for(var c=0;c<b.length;c++)a.Of.set(b[c],j);a.dispatchEvent("ra")};
    fi.prototype.bl=function(a){var a=new ph(a.Qa),b;switch(a.Df()){case 1:b="c";break;case 2:b="p";break;case 3:b="i";break;case 4:b="g";break;default:b="a"}var a=a.k(),c=ki(this,a);t(c)?c.yf(b):this.g.z("Received chat state for contact we don't have: "+a)};var oi=function(){},ri=function(a){function b(a){arguments.callee.n.constructor.call(this,a);var b=this.Ya.length;this.Pa=[];for(var c=0;c<b;++c)this.Ya[c].Lo||(this.Pa[c]=new this.Ya[c](a))}var c=a.ib;A(b,c);for(var d=[];a;){if(c=a.ib){c.Ya&&Na(d,c.Ya);var c=c.prototype,e;for(e in c)if(c.hasOwnProperty(e)&&ga(c[e])&&c[e]!==a){var g=!!c[e].Ko,h=pi(e,c,d,g);(g=qi(e,c,h,g))&&(b.prototype[e]=g)}}a=a.n&&a.n.constructor}b.prototype.Ya=d;return b},pi=function(a,b,c,d){for(var e=[],g=0;g<c.length&&!(c[g].prototype[a]!==
            b[a]&&(e.push(g),d));++g);return e},qi=function(a,b,c,d){return c.length?d?function(b){var d=this.Pa[c[0]];return d?d[a].apply(this.Pa[c[0]],arguments):this.Ya[c[0]].prototype[a].apply(this,arguments)}:b[a].Lm?function(b){var d;a:{d=Array.prototype.slice.call(arguments,0);for(var h=0;h<c.length;++h){var l=this.Pa[c[h]];if(l=l?l[a].apply(l,d):this.Ya[c[h]].prototype[a].apply(this,d)){d=l;break a}}d=o}return d}:b[a].Km?function(b){var d;a:for(var h=Array.prototype.slice.call(arguments,0),l=0;l<c.length;++l){var n=
            this.Pa[c[l]],n=n?n[a].apply(n,h):this.Ya[c[l]].prototype[a].apply(this,h);if(t(n)){d=n;break a}}return d}:b[a].Mm?function(b){for(var d=Array.prototype.slice.call(arguments,0),h=0;h<c.length;++h){var l=this.Pa[c[h]];l?l[a].apply(l,d):this.Ya[c[h]].prototype[a].apply(this,d)}}:function(b){for(var d=Array.prototype.slice.call(arguments,0),h=[],l=0;l<c.length;++l){var n=this.Pa[c[l]];h.push(n?n[a].apply(n,d):this.Ya[c[l]].prototype[a].apply(this,d))}return h}:!d&&!b[a].Lm&&!b[a].Km&&!b[a].Mm?si:k},
        si=function(){return[]};oi.prototype.qe=function(a){if(this.Pa)for(var b=0;b<this.Pa.length;++b)if(this.Pa[b]instanceof a)return this.Pa[b];return k};var ti=function(a){return this.Sh.qe(a)};var ui=function(a,b,c){je.call(this,b,c);this.Bm=a};A(ui,je);var vi=K("fava.core.Timer");ui.prototype.Jg=function(){I(vi,"Tick for "+this.Bm);ui.n.Jg.call(this)};var xi=function(a,b,c,d){ga(b)||b&&"function"==typeof b.handleEvent||f(Error("Invalid listener argument"));a=y(wi,k,a,b,d);return ie.setTimeout(a,c||0)},wi=function(a,b,c){I(vi,"Callback for "+a);ga(b)?b.call(c):b&&"function"==typeof b.handleEvent&&b.handleEvent.call(b)};var yi=function(){};A(yi,Ib);yi.prototype.g=K("fava.debug.ErrorReporter");yi.prototype.Sd=function(){this.Vf=[]};var zi=new yi;var Ai=function(){this.Ek=z()};new Ai;Ai.prototype.set=function(a){this.Ek=a};Ai.prototype.reset=function(){this.set(z())};Ai.prototype.get=function(){return this.Ek};var Y=function(a,b,c,d,e,g){this.b=a;this.e=b;this.bb=c;this.xa=d;this.kd=e||1;this.ld=45E3;this.A=new Q(this);this.T=g||k;this.se=new je;this.se.setInterval(250)};r=Y.prototype;r.aa=k;r.wa=o;r.Hc=k;r.og=k;r.$c=k;r.Ia=k;r.wb=k;r.ma=k;r.ub=k;r.Z=k;r.td=0;r.Ma=k;r.sc=k;r.B=k;r.W=-1;r.vi=j;r.zc=o;
    var Bi=function(a,b){switch(a){case 0:return"Non-200 return code ("+b+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}},Ci={},Di={},Ei=function(){return!D||lb(10)};Y.prototype.Ta=function(a){this.aa=a};Y.prototype.setTimeout=function(a){this.ld=a};
    var Gi=function(a,b,c){a.Ia=1;a.wb=vd(b.O());a.ub=c;a.ji=j;Fi(a,k)},Hi=function(a,b,c,d,e){a.Ia=1;a.wb=vd(b.O());a.ub=k;a.ji=c;e&&(a.vi=o);Fi(a,d)},Fi=function(a,b){a.$c=z();Ii(a);a.ma=a.wb.O();ud(a.ma,"t",a.kd);if(Ji(a)){a.td=0;a.Z=a.b.Xf(a.b.Be()?b:k);R(a.A,a.Z,"readystatechange",a.$k,o,a);var c=a.aa?tb(a.aa):{};a.ub?(a.sc="POST",c["Content-Type"]="application/x-www-form-urlencoded",a.Z.send(a.ma,a.sc,a.ub,c)):(a.sc="GET",a.vi&&!E&&(c.Connection="close"),a.Z.send(a.ma,a.sc,k,c));var d=a.ub;if(d)for(var c=
        "",d=d.split("&"),e=0;e<d.length;e++){var g=d[e].split("=");if(1<g.length)var h=g[0],g=g[1],l=h.split("_"),c=2<=l.length&&"type"==l[1]?c+(h+"="+g+"&"):c+(h+"=redacted&")}else c=k;a.e.info("XMLHTTP REQ ("+a.xa+") [attempt "+a.kd+"]: "+a.sc+"\n"+a.ma+"\n"+c)}};
    Y.prototype.$k=function(a){a=a.target;try{if(a==this.Z)a:{var b=jf(this.Z);if(!Ei()||E&&!jb("420+")){if(4>b)break a}else if(3>b||3==b&&!Za&&!kf(this.Z))break a;Ki(this);var c=this.Z.rb();this.W=c;var d=kf(this.Z);d||this.e.debug("No response text for uri "+this.ma+" status "+c);this.wa=200==c;this.e.info("XMLHTTP RESP ("+this.xa+") [ attempt "+this.kd+"]: "+this.sc+"\n"+this.ma+"\n"+b+" "+c);if(this.wa){if(4==b&&Li(this),this.ji?(Mi(this,b,d),Za&&3==b&&(R(this.A,this.se,"tick",this.Xk),this.se.start())):
        (Ni(this.e,this.xa,d,k),Oi(this,d)),this.wa&&!this.zc)4==b?this.b.ye(this):(this.wa=o,Ii(this))}else this.B=400==c&&0<d.indexOf("Unknown SID")?3:0,Z(),Ni(this.e,this.xa,d),Li(this),Pi(this)}else this.e.z("Called back with an unexpected xmlhttp")}catch(e){this.e.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.Z&&kf(this.Z)?Qi(this.e,e,"ResponseText: "+kf(this.Z)):Qi(this.e,e,"No response text")}finally{}};
    var Mi=function(a,b,c){for(var d=j;!a.zc&&a.td<c.length;){var e=Ri(a,c);if(e==Di){4==b&&(a.B=4,Z(),d=o);Ni(a.e,a.xa,k,"[Incomplete Response]");break}else if(e==Ci){a.B=4;Z();Ni(a.e,a.xa,c,"[Invalid Chunk]");d=o;break}else Ni(a.e,a.xa,e,k),Oi(a,e)}4==b&&0==c.length&&(a.B=1,Z(),d=o);a.wa=a.wa&&d;d||(Ni(a.e,a.xa,c,"[Invalid Chunked Response]"),Li(a),Pi(a))};Y.prototype.Xk=function(){var a=jf(this.Z),b=kf(this.Z);this.td<b.length&&(Ki(this),Mi(this,a,b),this.wa&&4!=a&&Ii(this))};
    var Ji=function(a){if(!a.T)return j;if("u"!=a.T.kc&&"?"!=a.T.kc)return R(a.A,a.T,"offline",a.Yj),j;a.Yj();return o};Y.prototype.Yj=function(){this.wa&&this.e.o("Received browser offline event even though request completed successfully");this.e.info("BROWSER_OFFLINE: "+this.ma);Li(this);this.B=6;Z();Pi(this)};
    var Ri=function(a,b){var c=a.td,d=b.indexOf("\n",c);if(-1==d)return Di;c=Number(b.substring(c,d));if(isNaN(c))return Ci;d+=1;if(d+c>b.length)return Di;var e=b.substr(d,c);a.td=d+c;return e},Si=function(a,b){a.$c=z();Ii(a);var c=b?window.location.hostname:"";a.ma=a.wb.O();M(a.ma,"DOMAIN",c);M(a.ma,"t",a.kd);if(Ji(a)){a.Ma=new ActiveXObject("htmlfile");var d="<html><body>";b&&(d+='<script>document.domain="'+c+'"<\/script>');d+="</body></html>";a.Ma.open();a.Ma.write(d);a.Ma.close();a.Ma.parentWindow.m=
        y(a.Fl,a);a.Ma.parentWindow.d=y(a.pj,a,j);a.Ma.parentWindow.rpcClose=y(a.pj,a,o);c=a.Ma.createElement("div");a.Ma.parentWindow.document.body.appendChild(c);c.innerHTML='<iframe src="'+a.ma+'"></iframe>';a.e.info("TRIDENT REQ ("+a.xa+") [ attempt "+a.kd+"]: GET\n"+a.ma)}};r=Y.prototype;r.Fl=function(a){Ti(y(this.pn,this,a),0)};r.pn=function(a){if(!this.zc){var b=this.e;b.info("TRIDENT TEXT ("+this.xa+"): "+Ui(b,a));Ki(this);Oi(this,a);Ii(this)}};r.pj=function(a){Ti(y(this.on,this,a),0)};
    r.on=function(a){this.zc||(this.e.info("TRIDENT TEXT ("+this.xa+"): "+a?"success":"failure"),Li(this),this.wa=a,this.b.ye(this))};r.cancel=function(){this.zc=j;Li(this)};var Ii=function(a){a.og=z()+a.ld;Vi(a,a.ld)},Vi=function(a,b){a.Hc!=k&&f(Error("WatchDog timer not null"));a.Hc=Ti(y(a.en,a),b)},Ki=function(a){a.Hc&&(s.clearTimeout(a.Hc),a.Hc=k)};
    Y.prototype.en=function(){this.Hc=k;var a=z();0<=a-this.og?(this.wa&&this.e.o("Received watchdog timeout even though request loaded successfully"),this.e.info("TIMEOUT: "+this.ma),Li(this),this.B=2,Z(),Pi(this)):(this.e.z("WatchDog timer called too early"),Vi(this,this.og-a))};var Pi=function(a){!a.b.Lj()&&!a.zc&&a.b.ye(a)},Li=function(a){Ki(a);a.se.stop();a.A.wg();if(a.Z){var b=a.Z;a.Z=k;b.abort()}a.Ma&&(a.Ma=k);a.T=k};Y.prototype.Di=function(){return this.B};Y.prototype.ja=function(){return this.W};
    Y.prototype.Ae=function(){return this.bb};var Oi=function(a,b){try{a.b.cj(a,b)}catch(c){Qi(a.e,c,"Error in httprequest callback")}};var Wi=function(){this.g=K("goog.net.BrowserChannel")},Ni=function(a,b,c,d){a.info("XMLHTTP TEXT ("+b+"): "+Ui(a,c)+(d?" "+d:""))};Wi.prototype.debug=function(a){this.info(a)};var Qi=function(a,b,c){a.o((c||"Exception")+b)};Wi.prototype.info=function(a){this.g.info(a)};Wi.prototype.z=function(a){this.g.z(a)};Wi.prototype.o=function(a){this.g.o(a)};
    var Ui=function(a,b){if(!b||"y2f%"==b)return b;try{for(var c=hc(b),d=0;d<c.length;d++)if(v(c[d])){var e=c[d];if(!(2>e.length)){var g=e[1];if(v(g)&&!(1>g.length)){var h=g[0];if("noop"!=h&&"stop"!=h)for(var l=1;l<g.length;l++)g[l]=""}}}return kc(c)}catch(n){return a.debug("Exception parsing expected JS array - probably was not JS"),b}};var Yi=function(a,b,c,d,e){(new Wi).debug("TestLoadImageWithRetries: "+e);if(0==d)c(o);else{var g=e||0;d--;Xi(a,b,function(e){e?c(j):s.setTimeout(function(){Yi(a,b,c,d,g)},g)})}},Xi=function(a,b,c){var d=new Wi;d.debug("TestLoadImage: loading "+a);var e=new Image;e.onload=function(){try{d.debug("TestLoadImage: loaded"),Zi(e),c(j)}catch(a){Qi(d,a)}};e.onerror=function(){try{d.debug("TestLoadImage: error"),Zi(e),c(o)}catch(a){Qi(d,a)}};e.onabort=function(){try{d.debug("TestLoadImage: abort"),Zi(e),
        c(o)}catch(a){Qi(d,a)}};e.ontimeout=function(){try{d.debug("TestLoadImage: timeout"),Zi(e),c(o)}catch(a){Qi(d,a)}};s.setTimeout(function(){if(e.ontimeout)e.ontimeout()},b);e.src=a},Zi=function(a){a.onload=k;a.onerror=k;a.onabort=k;a.ontimeout=k};var $i=function(a,b){this.b=a;this.e=b};r=$i.prototype;r.aa=k;r.sa=k;r.De=o;r.gd=k;r.Ce=k;r.dg=k;r.J=k;r.j=k;r.W=-1;r.cb=k;r.cg=k;r.Ta=function(a){this.aa=a};r.X=function(a){this.J=a;a=aj(this.b,this.J);Z();ud(a,"MODE","init");this.sa=new Y(this,this.e,i,i,i,this.b.T);this.sa.Ta(this.aa);Hi(this.sa,a,o,k,j);this.j=0;this.gd=z()};r.ml=function(a){a?(this.j=2,bj(this)):(Z(),a=this.b,a.e.debug("Test Connection Blocked"),a.W=a.Sb.ja(),cj(a,9))};
    var bj=function(a){a.e.debug("TestConnection: starting stage 2");a.sa=new Y(a,a.e,i,i,i,a.b.T);a.sa.Ta(a.aa);var b=dj(a.b,a.cb,a.J);Z();if(Ei())ud(b,"TYPE","xmlhttp"),Hi(a.sa,b,o,a.cb,o);else{ud(b,"TYPE","html");var c=a.sa,a=Boolean(a.cb);c.Ia=3;c.wb=vd(b.O());Si(c,a)}};r=$i.prototype;r.Xf=function(a){return this.b.Xf(a)};r.abort=function(){this.sa&&(this.sa.cancel(),this.sa=k);this.W=-1};r.Lj=function(){return o};
    r.cj=function(a,b){this.W=a.ja();if(0==this.j)if(this.e.debug("TestConnection: Got data for stage 1"),b){try{var c=hc(b)}catch(d){Qi(this.e,d);ej(this.b,this);return}this.cb=this.b.pe(c[0]);this.cg=c[1]}else this.e.debug("TestConnection: Null responseText"),ej(this.b,this);else if(2==this.j)if(this.De)Z(),this.dg=z();else if("11111"==b){if(Z(),this.De=j,this.Ce=z(),c=this.Ce-this.gd,Ei()||500>c)this.W=200,this.sa.cancel(),this.e.debug("Test connection succeeded; using streaming connection"),Z(),fj(this.b,
        this,j)}else Z(),this.Ce=this.dg=z(),this.De=o};
    r.ye=function(){this.W=this.sa.ja();if(this.sa.wa)if(0==this.j)if(this.e.debug("TestConnection: request complete for initial check"),this.cg){this.j=1;var a=gj(this.b,this.cg,"/mail/images/cleardot.gif");vd(a);Yi(a.toString(),5E3,y(this.ml,this),3,2E3)}else this.j=2,bj(this);else 2==this.j&&(this.e.debug("TestConnection: request complete for stage 2"),a=o,(a=Ei()?this.De:200>this.dg-this.Ce?o:j)?(this.e.debug("Test connection succeeded; using streaming connection"),Z(),fj(this.b,this,j)):(this.e.debug("Test connection failed; not using streaming"),
        Z(),fj(this.b,this,o)));else this.e.debug("TestConnection: request failed, in state "+this.j),0==this.j?Z():2==this.j&&Z(),ej(this.b,this)};r.ja=function(){return this.W};r.Be=function(){return this.b.Be()};r.Yb=function(){return this.b.Yb()};var $=function(a){this.ad=a||k;this.j=1;this.na=[];this.Ua=[];this.e=new Wi},hj=function(a,b,c){this.ek=a;this.map=b;this.eg=c||k};r=$.prototype;r.aa=k;r.Hd=k;r.la=k;r.P=k;r.J=k;r.re=k;r.bi=k;r.cb=k;r.T=k;r.Em=j;r.ud=0;r.Al=0;r.al=o;r.v=k;r.yb=k;r.gb=k;r.Tb=k;r.Sb=k;r.Jf=k;r.Zl=j;r.Yc=-1;r.si=-1;r.W=-1;r.nd=0;r.uc=0;r.pc=8;var ij=new S,jj=function(a){G.call(this,"statevent",a)};A(jj,G);var kj=function(a,b){G.call(this,"timingevent",a);this.size=b};A(kj,G);
    $.prototype.Ec=function(a){t(a)&&(this.e=a)};$.prototype.X=function(a,b,c,d,e){this.e.debug("connect()");Z();this.J=b;this.Hd=c||{};d&&u(e)&&(this.Hd.OSID=d,this.Hd.OAID=e);this.e.debug("connectTest_()");lj(this)&&(this.Sb=new $i(this,this.e),this.Sb.Ta(this.aa),this.Sb.X(a))};
    $.prototype.mg=function(){this.e.debug("disconnect()");mj(this);if(3==this.j){var a=this.ud++,b=this.re.O();M(b,"SID",this.bb);M(b,"RID",a);M(b,"TYPE","terminate");nj(this,b);a=new Y(this,this.e,this.bb,a,i,this.T);a.Ia=2;a.wb=vd(b.O());(new Image).src=a.wb;a.$c=z();Ii(a);oj(this)}};$.prototype.Ae=function(){return this.bb};
    var mj=function(a){a.Sb&&(a.Sb.abort(),a.Sb=k);a.P&&(a.P.cancel(),a.P=k);a.gb&&(s.clearTimeout(a.gb),a.gb=k);pj(a);a.la&&(a.la.cancel(),a.la=k);a.yb&&(s.clearTimeout(a.yb),a.yb=k)};r=$.prototype;r.Ta=function(a){this.aa=a};r.jb=function(a,b){0==this.j&&f(Error("Invalid operation: sending map when state is closed"));1E3==this.na.length&&this.e.o("Already have 1000 queued maps upon queueing "+kc(a));this.na.push(new hj(this.Al++,a,b));(2==this.j||3==this.j)&&qj(this)};r.Lj=function(){return 0==this.j};
    r.Ka=function(){return this.j};r.ja=function(){return this.W};var rj=function(a){var b=0;a.P&&b++;a.la&&b++;return b},qj=function(a){!a.la&&!a.yb&&(a.yb=Ti(y(a.Bi,a),0),a.nd=0)};
    $.prototype.Bi=function(a){this.yb=k;this.e.debug("startForwardChannel_");if(lj(this))if(1==this.j)if(a)this.e.o("Not supposed to retry the open");else{this.e.debug("open_()");this.ud=Math.floor(1E5*Math.random());var a=this.ud++,b=new Y(this,this.e,"",a,i,this.T);b.Ta(this.aa);var c=sj(this),d=this.re.O();M(d,"RID",a);this.ad&&M(d,"CVER",this.ad);nj(this,d);Gi(b,d,c);this.la=b;this.j=2}else 3==this.j&&(a?tj(this,a):0==this.na.length?this.e.debug("startForwardChannel_ returned: nothing to send"):
        this.la?this.e.o("startForwardChannel_ returned: connection already in progress"):(tj(this),this.e.debug("startForwardChannel_ finished, sent request")))};
    var tj=function(a,b){var c,d;b?6<a.pc?(a.na=a.Ua.concat(a.na),a.Ua.length=0,c=a.ud-1,d=sj(a)):(c=b.xa,d=b.ub):(c=a.ud++,d=sj(a));var e=a.re.O();M(e,"SID",a.bb);M(e,"RID",c);M(e,"AID",a.Yc);nj(a,e);c=new Y(a,a.e,a.bb,c,a.nd+1,a.T);c.Ta(a.aa);c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.la=c;Gi(c,e,d)},nj=function(a,b){if(a.v){var c=a.v.ik(a);c&&vc(c,function(a,c){M(b,c,a)})}},sj=function(a){var b=Math.min(a.na.length,1E3),c=["count="+b],d;6<a.pc&&0<b?(d=a.na[0].ek,c.push("ofs="+d)):
        d=0;for(var e=0;e<b;e++){var g=a.na[e].ek,h=a.na[e].map,g=6>=a.pc?e:g-d;try{vc(h,function(a,b){c.push("req"+g+"_"+b+"="+encodeURIComponent(a))})}catch(l){c.push("req"+g+"_type="+encodeURIComponent("_badmap"))}}a.Ua=a.Ua.concat(a.na.splice(0,b));return c.join("&")},uj=function(a){!a.P&&!a.gb&&(a.Gi=1,a.gb=Ti(y(a.Xi,a),0),a.uc=0)},wj=function(a){if(a.P||a.gb)return a.e.o("Request already in progress"),o;if(3<=a.uc||!(a.T?"u"!=a.T.kc&&"?"!=a.T.kc:1))return o;a.e.debug("Going to retry GET");a.Gi++;a.gb=
        Ti(y(a.Xi,a),vj(a,a.uc));a.uc++;return j};$.prototype.Xi=function(){this.gb=k;if(lj(this)){this.e.debug("Creating new HttpRequest");this.P=new Y(this,this.e,this.bb,"rpc",this.Gi,this.T);this.P.Ta(this.aa);var a=this.bi.O();M(a,"RID","rpc");M(a,"SID",this.bb);M(a,"CI",this.Jf?"0":"1");M(a,"AID",this.Yc);nj(this,a);if(Ei())M(a,"TYPE","xmlhttp"),Hi(this.P,a,j,this.cb,o);else{M(a,"TYPE","html");var b=this.P,c=Boolean(this.cb);b.Ia=3;b.wb=vd(a.O());Si(b,c)}this.e.debug("New Request created")}};
    var lj=function(a){if(a.v){var b=a.v.Kj(a);if(0!=b)return a.e.debug("Handler returned error code from okToMakeRequest"),cj(a,b),o}return j};$.prototype.Ad=function(a){this.T=a};var fj=function(a,b,c){a.e.debug("Test Connection Finished");a.Jf=a.Zl&&c;a.W=b.ja();a.e.debug("connectChannel_()");a.$l(1,0);a.re=aj(a,a.J);qj(a)},ej=function(a,b){a.e.debug("Test Connection Failed");a.W=b.ja();cj(a,2)};
    $.prototype.cj=function(a,b){if(!(0==this.j||this.P!=a&&this.la!=a))if(this.W=a.ja(),this.la==a&&3==this.j)if(7<this.pc){var c;try{c=hc(b)}catch(d){c=k}if(v(c)&&3==c.length){var e=c;if(0==e[0])a:if(this.e.debug("Server claims our backchannel is missing."),this.gb)this.e.debug("But we are currently starting the request.");else{if(this.P)if(this.P.$c+3E3<this.la.$c)pj(this),this.P.cancel(),this.P=k;else break a;else this.e.z("We do not have a BackChannel established");wj(this);Z()}else this.si=e[1],
        c=this.si-this.Yc,0<c&&(e=e[2],this.e.debug(e+" bytes (in "+c+" arrays) are outstanding on the BackChannel"),37500>e&&this.Jf&&0==this.uc&&!this.Tb&&(this.Tb=Ti(y(this.Yk,this),6E3)))}else this.e.debug("Bad POST response data returned"),cj(this,11)}else"y2f%"!=b&&(this.e.debug("Bad data returned - missing/invald magic cookie"),cj(this,11));else if(this.P==a&&pj(this),!/^[\s\xa0]*$/.test(b)){c=hc(b);for(var e=this.v&&this.v.ze?[]:k,g=0;g<c.length;g++){var h=c[g];this.Yc=h[0];h=h[1];2==this.j?"c"==
        h[0]?(this.bb=h[1],this.cb=this.pe(h[2]),h=h[3],this.pc=t(h)?h:6,this.j=3,this.v&&this.v.ri(this),this.bi=dj(this,this.cb,this.J),uj(this)):"stop"==h[0]&&cj(this,7):3==this.j&&("stop"==h[0]?(e&&e.length&&(this.v.ze(this,e),e.length=0),cj(this,7)):"noop"!=h[0]&&e&&e.push(h),this.uc=0)}e&&e.length&&this.v.ze(this,e)}};$.prototype.pe=function(a){return this.Em?this.v?this.v.pe(a):a:k};$.prototype.Yk=function(){t(this.Tb)&&(this.Tb=k,this.P.cancel(),this.P=k,wj(this),Z())};
    var pj=function(a){t(a.Tb)&&(s.clearTimeout(a.Tb),a.Tb=k)};
    $.prototype.ye=function(a){this.e.debug("Request complete");var b;if(this.P==a)pj(this),this.P=k,b=2;else if(this.la==a)this.la=k,b=1;else return;this.W=a.ja();if(0!=this.j)if(a.wa)1==b?(z(),ij.dispatchEvent(new kj(ij,a.ub?a.ub.length:0)),qj(this),this.v&&this.v.Ci(this,this.Ua),this.Ua.length=0):uj(this);else{var c=a.Di();if(3==c||0==c&&0<this.W)this.e.debug("Not retrying due to error type");else{this.e.debug("Maybe retrying, last error: "+Bi(c,this.W));var d;if(d=1==b)this.la||this.yb?(this.e.o("Request already in progress"),
        d=o):1==this.j||this.nd>=(this.al?0:2)?d=o:(this.e.debug("Going to retry POST"),this.yb=Ti(y(this.Bi,this,a),vj(this,this.nd)),this.nd++,d=j);if(d||2==b&&wj(this))return;this.e.debug("Exceeded max number of retries")}this.e.debug("Error: HTTP request failed");switch(c){case 1:cj(this,5);break;case 4:cj(this,10);break;case 3:cj(this,6);break;default:cj(this,2)}}};var vj=function(a,b){var c=5E3+Math.floor(1E4*Math.random());a.Yb()||(a.e.debug("Inactive channel"),c*=2);return c*b};
    $.prototype.$l=function(a){0<=Fa(arguments,this.j)||f(Error("Unexpected channel state: "+this.j))};var cj=function(a,b){a.e.info("Error code "+b);if(2==b||9==b){var c=k;a.v&&(c=a.v.Ij(a));var d=y(a.jm,a);c||(c=new L("//www.google.com/images/cleardot.gif"),vd(c));Xi(c.toString(),1E4,d)}else Z();a.Oe(b)};$.prototype.jm=function(a){a?(this.e.info("Successfully pinged google.com"),Z()):(this.e.info("Failed to ping google.com"),Z(),this.Oe(8))};
    $.prototype.Oe=function(a){this.e.debug("HttpChannel: error - "+a);this.j=0;this.v&&this.v.vj(this,a);oj(this);mj(this)};
    var oj=function(a){a.j=0;a.W=-1;if(a.v)if(0==a.Ua.length&&0==a.na.length)a.v.pg(a);else{a.e.debug("Number of undelivered maps, pending: "+a.Ua.length+", outgoing: "+a.na.length);var b=Ma(a.Ua),c=Ma(a.na);a.Ua.length=0;a.na.length=0;a.v.pg(a,b,c)}},aj=function(a,b){var c=gj(a,k,b);a.e.debug("GetForwardChannelUri: "+c);return c},dj=function(a,b,c){b=gj(a,a.Be()?b:k,c);a.e.debug("GetBackChannelUri: "+b);return b},gj=function(a,b,c){var d=wd(c);if(""!=d.K())b&&cd(d,b+"."+d.K()),dd(d,d.ya);else var e=
        window.location,d=nd(e.protocol,k,b?b+"."+e.hostname:e.hostname,e.port,c);a.Hd&&vc(a.Hd,function(a,b){M(d,b,a)});M(d,"VER",a.pc);nj(a,d);return d};$.prototype.Xf=function(a){a&&f(Error("Can't create secondary domain capable XhrIo object."));return new af};$.prototype.Yb=function(){return!!this.v&&this.v.Yb(this)};var Ti=function(a,b){ga(a)||f(Error("Fn must not be null and must be a function"));return s.setTimeout(function(){a()},b)},Z=function(){ij.dispatchEvent(new jj(ij))};$.prototype.Be=function(){return!Ei()};
    var xj=function(){};r=xj.prototype;r.ze=k;r.Kj=function(){return 0};r.ri=function(){};r.Ci=function(){};r.vj=function(){};r.pg=function(){};r.ik=function(){return{}};r.Ij=function(){return k};r.Yb=function(){return j};r.pe=function(a){return a};var yj=function(a,b,c,d,e,g,h){this.H=a;this.Bf=b;this.pi=d||k;this.Zc=new Hh;this.cd=new Hh;this.hi=e||k;this.e=k;this.ad=c;this.j=-1;this.B=0;this.b=this.lc(this.ad);this.Vk=!!g;this.aa=h?tb(h):{};this.Pf=new ui("BrowserChannel heartbeat",1E3);this.A=new Q(this);R(this.A,this.Pf,"tick",this.Wk);this.Pf.start();this.xb=5E3+2E4*Math.random();this.b.Ta(this.aa)};A(yj,xj);r=yj.prototype;r.g=K("fava.net.BrowserChannelWrapper");r.ig=k;r.jf=0;r.He=o;r.Ve=[];
    r.M=function(){F(this.A);-1!=this.j&&this.b.mg();this.j=1;this.Zc.clear();zj(this);Fk(this);this.Pf.M()};r.Ka=function(){return this.Cd?4:this.j};r.tg=function(){return this.ig};r.ze=function(a,b){if(a==this.b){for(var c=0;c<b.length;c++){var d=this.Zc,e=b[c];d.kb[d.Ab++]=e}this.Rh()}};
    r.Rh=function(){Fk(this);for(var a=z(),b=[];!this.Zc.fb();){var c=Ih(this.Zc),d=z(),e=c,c=e[0],g;g=vf;var h=z(),l=uf(g),n=g.zb.U();if(g.fa.length+n>g.Tf){g.g.z("Giant thread trace. Clearing to avoid memory leak.");if(g.fa.length>g.Tf/2){for(var m=0;m<g.fa.length;m++){var q=g.fa[m];q.id&&nf(g.wc,q.id);nf(g.Rb,q)}g.fa.length=0}n>g.Tf/2&&g.zb.clear()}Rc("Start : BrowserChannelServices.handleArray_");q=mf(g.Rb);q.vd=l;q.qd=0;q.id=Number(mf(g.wc));q.wd="BrowserChannelServices.handleArray_";q.type=i;g.fa.push(q);
        g.zb.set(""+q.id,q);g.Mf++;l=z();q.startTime=q.xe=l;g.ve+=l-h;g=q.id;if(0>=e.length)this.g.z("Got empty array");else if(3==this.j&&"b"==e[0])Gk(this,4);else if(4==this.j)try{var w=this.H.Wc.get(e[0]);if(w&&v(e[1])){var P=e[1];w.dispatchEvent(new Hk(P));c+="-"+P[0]}else this.g.z("Unexpected response array: "+e)}catch(B){e=B,zi.Jb?zi.g.info("reportException was called but ErrorReporter already disposed. Message: BC error handling array",e):(o&&(e=e.rn||e),zi.g&&(h=zi.g.ui(Lc,"BC error handling array",
            e),h.sn=j,q=zi.g,h.ti().value>=Sc(q).value&&Tc(q,h)),zi.xc||zi.Vf&&10>zi.Vf.length&&zi.Vf.push(["BC error handling array",e]))}q=g;e=vf;g=z();n=i;n=e.ki;h=e.zb.get(""+q);if(h!=k){e.zb.remove(""+q);q=i;l=g-h.startTime;if(l<n)for(n=e.fa.length-1;0<=n;n--){if(e.fa[n]==h){e.fa.splice(n,1);nf(e.wc,h.id);nf(e.Rb,h);break}}else q=mf(e.Rb),q.qd=1,q.startTime=h.startTime,q.wd=h.wd,q.type=h.type,q.Zk=q.xe=g,e.fa.push(q);n=h.type;m=k;n&&(m=e.Qb.get(n),m||(m=mf(e.Nf),m.type=n,e.Qb.set(n,m)),m.count++,m.time+=
            l);q&&(Rc("Stop : "+q.wd),q.vd=uf(e),m&&(m.sd+=q.vd-h.vd));e.ue+=z()-g}e=z();b.push([c+":"+(e-d)]);if(500<e-a){this.g.z("Took too long handling arrays: "+Aa(b.join(",")));break}}this.Zc.fb()||(this.g.info("Delaying array handling"),this.Uf=xi("fava.net.BrowserChannelWrapper",this.Rh,0,this))};r.Kj=function(){return 0};r.ri=function(a){a==this.b&&(this.xb=5E3+2E4*Math.random(),Gk(this,3))};
    r.vj=function(a,b){a==this.b&&(this.Cd=o,4==b?this.B=1:2==b?this.B=2:6==b?this.Vk?(4==this.j&&!Ik(this,j)&&(this.Cd=j),this.B=0,this.He=j):this.B=2:8==b?this.B=3:7==b?this.B=2:9==b&&(this.B=4),Ik(this,j),Gk(this,5))};r.Ci=function(a,b){a==this.b&&this.H.dispatchEvent(new Jk(b))};r.pg=function(a,b,c){if(a==this.b&&5!=this.j&&6!=this.j&&(this.Cd=o,Gk(this,1),b||c))this.H.dispatchEvent(new Kk(b||k,c||k))};
    r.ik=function(a){if(a!=this.b)return{};for(var b={},a=0;a<this.Ve.length;a++)vb(b,this.Ve[a].nc);return b};r.Ij=function(a){return a!=this.b?k:this.pi?(a=new L(this.pi),vd(a),a):k};r.Yb=function(){return j};
    var Lk=function(a){zj(a);a.Bf||f(Error("BrowserChannelServices.Channel: base path not set"));var b=a.Bf+"test",c=a.Bf+"bind";if(-1!=a.j){(3==a.b.Ka()||0!=rj(a.b))&&a.g.o("BrowserChannelServices.Channel: unexpected reconnect state: "+a.b.Ka());var d=a.b.Ae(),e=a.b.Yc;a.b=a.lc(a.ad);a.b.Ta(a.aa);a.b.X(b,c,{},d,e)}else a.b.X(b,c,{});Gk(a,2)};yj.prototype.Ac=function(){switch(this.Ka()){case -1:case 2:case 3:case 4:return j;default:return t(this.Te)}};
    yj.prototype.jb=function(a,b,c){this.Ac()||f(Error("BrowserChannelServices: Trying to send a map while we are disconnected: "+a.type));b=b||1;t(a)&&(a=new Mk(a,c),c=this.cd,c.kb[c.Ab++]=a,5E3<=this.cd.U()&&(this.g.z("Hit max queue size. Dropping BC message."),Ih(this.cd)));if(4==this.j&&1==b)for(;!this.cd.fb();)a=Ih(this.cd),this.b.jb(a.map,a.eg)};
    var Gk=function(a,b){var c=a.j;if(5==b)5!=c&&Nk(a),a.j=b;else if(c!=b)switch(a.j=b,b){case 4:a.B=0,a.Cd=o,a.jb(k),a.H.dispatchEvent("va")}else return;a.Cd||a.H.dispatchEvent(new Ok(c,b,a.B))};yj.prototype.lc=function(a){a=this.hi?this.hi(a):new $(a);this.e&&this.Ec(this.e);this.T&&a.Ad(this.T);a.v=this;return a};
    var zj=function(a){t(a.Te)&&(ie.clearTimeout(a.Te),a.Te=k)},Fk=function(a){t(a.Uf)&&(ie.clearTimeout(a.Uf),a.Uf=k)},Nk=function(a){1!=a.B&&4!=a.B&&(!a.He&&24E4>2*a.xb&&(a.xb*=2),a.He&&(a.xb=500),a.g.info("Retrying connection in "+a.xb+"ms"),a.ig=z()+a.xb,zj(a),a.Te=xi("fava.net.BrowserChannelServices",a.Hi,a.xb,a))};yj.prototype.Hi=function(){this.ig=k;if(1==this.j||5==this.j||6==this.j)this.He=o,this.b&&0==rj(this.b)?Lk(this):Nk(this)};yj.prototype.Wk=function(){Ik(this,o)||(this.jf=z())};
    var Ik=function(a,b){var c=z(),d=0<a.jf&&3E4<c-a.jf;b&&(a.jf=c);return d};yj.prototype.If=function(a){var b=this.Ve;0<=Fa(b,a)||b.push(a)};yj.prototype.vg=function(a){Ka(this.Ve,a)};yj.prototype.Ec=function(a){this.e=a;this.b&&(a?this.b.Ec(a):this.b.Ec(new Wi))};yj.prototype.Ad=function(a){this.T=a;this.b&&this.b.Ad(a);R(this.A,a,"online",this.Hi)};var Mk=function(a,b){this.map=a;this.eg=b||k};var Pk=function(a,b,c,d,e,g){this.Wc=new H;this.ta=new yj(this,a,b,c,d,e,g)};A(Pk,S);var Qk=function(a,b){this.Ia=b;this.H=a};A(Qk,S);var Hk=function(a){G.call(this,"ta");this.cm=a};A(Hk,G);Qk.prototype.cf=function(){return this.Ia};Qk.prototype.Ac=function(){return this.H.Ac()};Qk.prototype.jb=function(a,b){this.H.jb(this,a,b)};var Ok=function(a,b,c){G.call(this,"ua");this.Dl=a;this.gj=b;this.error=c};A(Ok,G);var Jk=function(a){G.call(this,"wa");this.sk=a};A(Jk,G);
    var Kk=function(a,b){G.call(this,"xa");this.Mj=a;this.Nj=b};A(Kk,G);r=Pk.prototype;r.g=K("fava.net.BrowserChannelServices");r.h=function(){Pk.n.h.call(this);this.ta.M();for(var a=this.Wc.ga(),b=0;b<a.length;b++)a[b].M();this.Wc.clear()};r.If=function(a){this.ta.If(a)};r.vg=function(a){this.ta.vg(a)};r.X=function(){-1==this.Ka()&&Lk(this.ta)};r.mg=function(){this.ta.b.mg()};r.Ae=function(){return this.ta.b.Ae()};r.Ac=function(){return this.ta.Ac()};
    r.jb=function(a,b,c){"_sc"in b&&f(Error("sendMap called with reserved key: _sc"));b._sc=a.cf();this.ta.jb(b,c)};r.Ka=function(){return this.ta.Ka()};r.tg=function(){return this.ta.tg()};r.Ec=function(a){this.ta.Ec(a)};r.ja=function(){return this.ta.b.ja()};r.Ad=function(a){this.ta.Ad(a)};var Rk=function(a){this.a=a||["ms"]};A(Rk,T);U.ms=Rk;Rk.prototype.w=function(){return"ms"};Rk.prototype.k=function(){return this.a[1]};Rk.prototype.R=function(a){this.a[1]=a};var Sk=function(a){this.a=a||["nqr"];this.a[5]=this.a[5]||[]};A(Sk,T);U.nqr=Sk;r=Sk.prototype;r.w=function(){return"nqr"};r.bd=function(){return this.a[1]};r.Rc=function(a){this.a[1]=a};r.Ah=function(){return this.a[2]};r.setStart=function(a){this.a[2]=a};r.yh=function(){return this.a[3]};r.setEnd=function(a){this.a[3]=a};r.Kb=function(){return this.a[4]};r.Ga=function(a){this.a[4]=a};r.le=function(){if(!this.Ub){this.Ub=[];for(var a=0;a<this.a[5].length;a++)this.Ub[a]=new Tk(this.a[5][a])}return this.Ub};
    var Tk=function(a){this.a=a||[];this.a[1]=this.a[1]||[]};A(Tk,T);r=Tk.prototype;r.k=function(){return this.a[0]};r.R=function(a){this.a[0]=a};r.zh=function(){return this.a[1]};r.Bh=function(a){a=a||[];this.a[1]=a};r.Cf=function(){!this.$f&&this.a[2]&&(this.$f=new lg(this.a[2]));return this.$f};r.Ch=function(a){this.$f=a;this.a[2]=a?a.a:a};var Uk=function(a){!a.xi&&a.a[3]&&(a.xi=new mg(a.a[3]));return a.xi},Vk=function(a){!a.Ai&&a.a[4]&&(a.Ai=new Ah(a.a[4]));return a.Ai};var Wk=function(a){this.a=a||["p"]};A(Wk,T);U.p=Wk;r=Wk.prototype;r.w=function(){return"p"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.jd=function(){return this.a[2]};r.fd=function(a){this.a[2]=a};r.rb=function(){return this.a[3]};r.$h=function(a){this.a[3]=a};r.Yh=function(){return this.a[4]};r.Zh=function(a){this.a[4]=a};r.ed=function(){return this.a[5]};r.ke=function(a){this.a[5]=a};var Xk=function(a){this.a=a||["m"]};A(Xk,T);U.m=Xk;r=Xk.prototype;r.w=function(){return"m"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.ci=function(){return this.a[2]};r.hb=function(){return this.a[3]};var Yk=function(a){this.a=a||["ra"];this.a[18]=this.a[18]||[]};A(Yk,T);U.ra=Yk;r=Yk.prototype;r.w=function(){return"ra"};r.k=function(){return this.a[1]};r.R=function(a){this.a[1]=a};r.getName=function(){return this.a[2]};r.Hb=function(a){this.a[2]=a};r.gc=function(){return this.a[3]};r.Sc=function(a){this.a[3]=a};r.Pi=function(){return this.a[4]};r.Fh=function(a){this.a[4]=a};r.Eh=function(a){this.a[5]=a};r.jh=function(){return this.a[6]};r.Hh=function(a){this.a[6]=a};
    r.Gh=function(a){this.a[7]=a};r.Ih=function(a){this.a[8]=a};r.Gb=function(){return this.a[9]};r.de=function(a){this.a[9]=a};r.Kh=function(a){this.a[12]=a};r.kh=function(){return this.a[13]};r.Jh=function(a){this.a[13]=a};r.lh=function(){return this.a[14]};r.Sa=function(){return this.a[15]};r.Tc=function(a){this.a[15]=a};r.ih=function(){return this.a[17]};r.uf=function(){return this.a[18]};var Zk=function(a){this.a=a||["qr"];this.a[5]=this.a[5]||[]};A(Zk,T);U.qr=Zk;r=Zk.prototype;r.w=function(){return"qr"};r.bd=function(){return this.a[1]};r.Rc=function(a){this.a[1]=a};r.Ah=function(){return this.a[2]};r.setStart=function(a){this.a[2]=a};r.yh=function(){return this.a[3]};r.setEnd=function(a){this.a[3]=a};r.Kb=function(){return this.a[4]};r.Ga=function(a){this.a[4]=a};r.le=function(){if(!this.Ub){this.Ub=[];for(var a=0;a<this.a[5].length;a++)this.Ub[a]=new $k(this.a[5][a])}return this.Ub};
    var $k=function(a){this.a=a||["c"];this.a[1]=this.a[1]||[]};A($k,T);U.c=$k;r=$k.prototype;r.w=function(){return"c"};r.zh=function(){return this.a[1]};r.Bh=function(a){a=a||[];this.a[1]=a};r.Cf=function(){return this.a[4]};r.Ch=function(a){this.a[4]=a};var al=function(a){Q.call(this,this);this.jc=a.get("ha");this.Za=a.get("na");this.Fa=a.get("ja");this.Fb=a.get("oa");this.ba=[];R(this,a.get("oa"),"ma",this.qm);this.Fa.sb.contains(Xf.fe)||R(this,a.get("oa"),"ra",this.rm)};A(al,Q);
    al.prototype.translate=function(a){switch(a[0]){case "nqr":var a=new Sk(a),b=new Zk;b.Rc(a.bd());b.setStart(a.Ah());b.setEnd(a.yh());b.Ga(a.Kb());if(0<a.le().length){for(var c=0;c<a.le().length;++c){var d=a.le()[c],e=new $k;e.Bh(d.zh());Uk(d)&&this.jc.handle(Ce(Uk(d)));Vk(d)&&this.jc.handle(Ce(Vk(d)));var g=d.k();ki(this.Fb,g)&&(bl(this,g),g=new Yk(this.ba.pop()),e.a[2]=g?g.a:g,e.a[3]=g.a[16],e.a[3]=g.a[16]?1:0,d.Cf()&&(cl(this,d.Cf()),e.Ch(this.ba.pop())),b.a[c+5]=e.a)}this.ba.push(b.a)}else this.ba.push(b.a.slice(0,
        5));break;case "p":cl(this,new lg(a));break;case "cs":this.ba.push(a);this.ba.push(Ce(dl(a)));break;case "otr":case "ru":case "vc":case "cds":this.jc.handle(a);break;case "sc":case "su":for(b=1;b<a.length;++b)ci(this.Za,a[b][0],a[b][1]);this.ba.push(a);break;case "cu":b=this.Fb;d=a[1];c=ki(b,a[2]);d/=1E3;c&&c.ge<d&&(nh(b.Q,c),c.nf(d),oh(b.Q,c,j));this.ba.push(a);break;case "ql":this.Fa.sb.contains(Xf.fe)&&(a.shift(),ni(this.Fb,a),this.ba.push(a));break;default:this.ba.push(a)}a=this.ba;this.ba=[];
        return a};al.prototype.qm=function(a){bl(this,a.tf.k().toString())};al.prototype.rm=function(){this.ba.push(["ql"].concat(hh(this.Fb.Q)))};
    var bl=function(a,b){var c=ki(a.Fb,b),d=new Yk;d.R(c.k().toString());d.Hb(c.Ha);d.Sc(c.gc());var e=c.Dh();d.Fh("/image?h"+e.substring(e.indexOf("=")));d.Hh(c.ae);d.de(c.Gb());d.a[10]=c.xf||o;d.Jh(c.eh);d.Tc(parseInt(c.Sa(),10));d.a[16]="B"!=c.Gb()&&(2==c.me||4==c.me);d.Eh(o);d.Ih(1);d.Gh(1);d.a[11]=o;d.Kh("");d.a[14]=[];a.ba.push(d.a)},cl=function(a,b){var c=new Wk,d=b.k(),e=d.indexOf("/");0<e&&(d=d.substring(0,e));c.R(d);switch(b.jd()){case 1:e="u";break;case 2:case 3:e="i";break;case 4:e="b";break;
        default:e="a"}c.fd(e);c.$h(b.rb()||"");c.Zh(b.Yh());c.ke(b.ed());a.ba.push(c.a);c=ki(a.Fb,d);t(c)&&t(b.a[7])&&c.zf(b.a[7])},dl=function(a){var b=new ph(a),a=new Rk;a.R(b.k());switch(b.Df()){case 1:b="c";break;case 2:b="p";break;case 3:b="i";break;case 4:b="g";break;default:b="a"}a.a[2]=b;return a};var el=function(){};A(el,oi);var gl=function(a,b,c,d,e,g,h,l,n,m,q,w,P,B,wa){Q.call(this);if(!(b=Re(h,"ha")))b=new wf,h.ca("ha",b);this.Hk=b;!h.qa.ka&&!h.oe.ka&&(b=y(this.Af,this),l=y(this.fh,this),b=new kg(b,l),h.ca("ka",b));Re(h,"na")||(b=new di(h),h.ca("na",b));Re(h,"ia")||(b=new Uf(h),h.ca("ia",b));if(!(b=Re(h,"oa")))b=new fi(h),h.ca("oa",b);this.Fb=b;this.Jk=new L(a);this.Kk=q||"channel";this.Mh=c;this.vb=e;this.Uh=g;this.Th=w?w:0;this.Rk=n||"wcs";this.g=K("chat.WcsClient");this.nc={};sb(this.nc,"clid",c);sb(this.nc,"gsessionid",
        d);sb(this.nc,"prop",this.Rk);0!=this.Th&&sb(this.nc,"authuser",this.Th);P&&vb(this.nc,P);D||he(this,window,"beforeunload",this.Xh,j);he(this,window,"unload",this.Xh,j);this.va=o;this.Lk={};for(a=0;256>a;++a)c=a.toString(16),1==c.length&&(c="0"+c),c="%"+c,this.Lk[unescape(c)]=a;this.Vh=fl(this);this.dd=new je(5E3);R(this,this.dd,"tick",this.Nk,o,this);this.dd.start();if(this.eb=m&&0<m?new je(m):k)R(this,this.eb,"tick",this.Sk,o,this),this.eb.start();if(!(m=Re(h,"pa")))m=new al(h),h.ca("pa",m);this.uh=
        m;if(ea(Re(h,"e"))){a=this.Jk;m=this.Kk+"/";a instanceof L||(a=wd(a));m instanceof L||(m=wd(m));d=a;a=d.O();(c=!!m.da)?ad(a,m.da):c=!!m.Ob;c?bd(a,m.Ob):c=!!m.Y;c?cd(a,m.K()):c=m.ya!=k;e=m.J;if(c)dd(a,m.ya);else if(c=!!m.J)if("/"!=e.charAt(0)&&(d.Y&&!d.J?e="/"+e:(d=a.J.lastIndexOf("/"),-1!=d&&(e=a.J.substr(0,d+1)+e))),".."==e||"."==e)e="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");g=[];for(n=0;n<e.length;)q=e[n++],"."==q?d&&n==e.length&&g.push(""):".."==
        q?((1<g.length||1==g.length&&""!=g[0])&&g.pop(),d&&n==e.length&&g.push("")):(g.push(q),d=j);e=g.join("/")}c?ed(a,e):c=""!==m.S.toString();c?a.Rc(qd(m)):c=!!m.Nb;c&&gd(a,m.Nb);this.H=new Pk(B?a.toString():a.J,"1",i,i,i,wa)}else this.H=h.get("e");this.H.If(this);this.sf=h;h=this.H;B=h.Wc.get("c");B||(B=new Qk(h,"c"),h.Wc.set("c",B));this.ne=B;R(this,this.H,"ua",this.Mk,j,this);R(this,this.H,"xa",this.Qk,j,this);R(this,this.H,"wa",this.Ok,j,this);R(this,this.ne,"ta",this.Pk,j,this);if(!this.Sh){for(h=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 this.constructor;h&&!h.ib;)h=h.n&&h.n.constructor;Da(h,"trying to create delegate for non-delegating class: did you forget to use fava.delegate.Delegate.setBase?");h.ib.Wh||(h.ib.Wh=ri(h));this.Sh=new h.ib.Wh(this);this.qe?Da(this.qe==ti,"conflicting definitions of findDelegate"):this.qe=ti}};A(gl,Q);el.n?Da(el.prototype instanceof oi,"delegate base class is not a subclass of fava.delegate.Delegate"):A(el,oi);Da(!gl.ib,"delegator already has a delegate base set");gl.ib=el;var hl=el.st=gl;
    do hl=hl.n&&hl.n.constructor;while(hl&&!hl.ib);hl&&hl.ib!==el.n.constructor&&f(Error("delegate base must derive from superclass delegate base"));r=gl.prototype;r.gn=ca;r.Xh=function(){this.hn||(this.hn=j,this.gn(),F(this))};r.h=function(){gl.n.h.call(this);F(this.Hk);F(this.uh);this.H.vg(this);this.H.M();this.dd&&(this.dd.M(),this.dd=k);this.eb&&(this.eb.M(),this.eb=k);for(;cf.length;)cf.pop().M();s.onerror=k};r.Ed=function(){};r.vk=function(a,b){b()};r.rk=function(){return this.va};
    var fl=function(a,b){var c;if(b)c=b+"=";else{if("WCX"==a.Uh&&(c=fl(a,"WCM"),c!=k))return c;c=a.Uh+"="}for(var d=document.cookie.split(";"),e=0;e<d.length;++e){var g=d[e],h=g.indexOf(c);if(-1<h)return g.substring(h+c.length)}return k};gl.prototype.Nk=function(){var a=fl(this);this.Vh!=a&&(this.Vh=a)};gl.prototype.Sk=function(){4==this.H.Ka()&&this.Af(["noop"])};var il=function(a,b){a.vk(b,y(a.fn,a,b))};
    gl.prototype.fn=function(a){(window.parent===window.self||!jl(this,window.parent,a))&&jl(this,window.self,a)};var jl=function(a,b,c){try{var d=""+b.location;if(d){var e=new L(d);M(e,"v",a.vb);c?M(e,"clid",a.Mh):e.S.remove("clid");e.S.remove("pal");a.g.info("Reloading:  "+e.toString());b.location=e.toString();return j}}catch(g){b==window.self&&a.g.z("tryReload error: "+g.message)}return o};
    gl.prototype.fh=function(a,b,c){var d;try{d=kc(a.a.slice(1))}catch(e){return this.g.o("error serializing message: "+a.a),o}return kl(this,{t:a.w(),p:d},b,c)};
    gl.prototype.Af=function(a,b,c){if(a==k||!v(a))return this.g.o("sending invalid array: "+a),o;var d;a:switch(a[0]){case "m":d=new Xk(a);break a;case "ms":var e=new Rk(a);d=new ph;d.R(e.k());switch(e.a[2]){case "c":e=1;break;case "p":e=2;break;case "i":e=3;break;case "g":e=4;break;default:e=0}d.yf(e);break a;default:d=k}if(d)return this.fh(d,b,c);var g;try{g=kc(a)}catch(h){return this.g.o("error serializing array: "+a),o}return kl(this,{m:g},b,c)};
    var kl=function(a,b,c,d){d=d||a.Mh;b.c=d;if(a.ne.Ac())return c?a.ne.jb(b,2):(a.ne.jb(b),a.eb&&(a.eb.stop(),a.eb.start())),j;a.g.z("Cannot send message: "+d+": "+b);return o};r=gl.prototype;r.lc=function(){this.g.info("Connecting browser channel.");this.H.X()};
    r.Mk=function(a){this.g.info("Browser channel state change: "+a.Dl+"->"+a.gj);switch(a.gj){case 4:this.g.info("Browser channel opened");this.Ed(["connect-state","open"]);this.Af(["connect-add-client"]);break;case 1:this.g.z("Browser channel closed");this.Ed(["connect-state","close"]);this.va=o;break;case 5:var b=this.H.tg();ea(b)||(this.g.info("Browser channel error state: "+a.error+". Retry @ "+b),this.Ed(["connect-state","error",b]),this.va=o,401==this.H.ja()&&il(this,o))}};
    r.Ok=function(a){for(var b=0;b<a.sk.length;b++)F(a.sk[b].eg)};r.Qk=function(a){this.g.z("Browser channel closed with "+a.Mj.length+" pending maps and "+a.Nj.length+" undelivered maps");for(var b=0;b<a.Mj.length;b++);for(b=0;b<a.Nj.length;b++);};
    r.Pk=function(a){a=a.cm;if(2!=a.length)this.g.o("Array from server is not length 2: "+a);else if("v"==a[1][0])this.g.info("Received version: "+a[1]),this.vb!=a[1][1]&&il(this,j);else{"pu"==a[1][0]&&(this.va=j);for(var b=this.uh.translate(a[1]),c=0;c<b.length;++c)try{this.Ed(["connect-data",a[0],b[c]])}catch(d){}}};var ll=function(a,b,c,d,e,g,h,l,n,m,q){var l=new Qe,w=new Ve;w.wf=a;w.Io=d;w.Jo=b;w.ol=c;w.pl=g;w.nl="dch";ea(Re(l,"ga"))&&l.ca("ga",w);ea(Re(l,"ga"))&&l.ca("ga",w);b=new Wf(l);l.ca("ja",b);gl.call(this,a,0,c,d,e,g,l,0,"data",i,"dch",i,{token:h});this.H=q||this.H;this.Kd=[];this.Fd=m||new ye(h);this.pa=k;n?this.pa=n:(a=new L(window.location.href),a=gc(a.S.get("xpc")),this.pa=new qe(a));this.pa.X(y(this.xg,this));this.Jb||this.lc()};A(ll,gl);
    ll.prototype.xg=function(){for(var a=0;a<this.Kd.length;++a)this.pa.send(this.Kd[a].message,this.Kd[a].data);this.Kd=[]};
    ll.prototype.Ed=function(a){if(a&&a[0]){var b;if("connect-state"==a[0])"error"==a[1]?401==this.H.ja()?il(this,o):(b={message:"onError",data:{}},b.data.c=this.H.ja(),b.data.d=""):"closed"==a[1]&&(b={message:"onClosed",data:{}});else if("connect-data"==a[0]){if(!a[2]||!a[2][0])return;var a=a[2],c=a[0];"ae"==c?(a=a[1],b={message:"onMessage",data:{}},b.data.m=a,b.data.s=this.Fd.Ne(a),this.Fd.Nd++):"me"==c?b={message:"opened",data:{}}:"m"==c&&"e"==a[4]&&(a=a[2],b={message:"onError",data:{}},b.data.c=1,
        b.data.d=a)}b&&(this.pa.za()?this.pa.send(b.message,b.data):this.Kd.push(b))}};ll.prototype.vk=function(a,b){b()};oa("chat.WcsDataClient",ll);SHA1=function(){this.N=Array(5);this.$e=Array(64);this.Gm=Array(80);this.af=Array(64);this.af[0]=128;for(var a=1;64>a;++a)this.af[a]=0;this.reset()};SHA1.prototype.reset=function(){this.N[0]=1732584193;this.N[1]=4023233417;this.N[2]=2562383102;this.N[3]=271733878;this.N[4]=3285377520;this.Pc=this.bc=0};
    var ml=function(a,b){return(a<<b|a>>>32-b)&4294967295},nl=function(a,b){for(var c=a.Gm,d=0;64>d;d+=4)c[d/4]=b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3];for(d=16;80>d;++d)c[d]=ml(c[d-3]^c[d-8]^c[d-14]^c[d-16],1);for(var e=a.N[0],g=a.N[1],h=a.N[2],l=a.N[3],n=a.N[4],m,q,d=0;80>d;++d)40>d?20>d?(m=l^g&(h^l),q=1518500249):(m=g^h^l,q=1859775393):60>d?(m=g&h|l&(g|h),q=2400959708):(m=g^h^l,q=3395469782),m=ml(e,5)+m+n+q+c[d]&4294967295,n=l,l=h,h=ml(g,30),g=e,e=m;a.N[0]=a.N[0]+e&4294967295;a.N[1]=a.N[1]+g&4294967295;
        a.N[2]=a.N[2]+h&4294967295;a.N[3]=a.N[3]+l&4294967295;a.N[4]=a.N[4]+n&4294967295};SHA1.prototype.update=function(a,b){b||(b=a.length);var c=0;if(0==this.bc)for(;c+64<b;)nl(this,a.slice(c,c+64)),c+=64,this.Pc+=64;for(;c<b;)if(this.$e[this.bc++]=a[c++],++this.Pc,64==this.bc){this.bc=0;for(nl(this,this.$e);c+64<b;)nl(this,a.slice(c,c+64)),c+=64,this.Pc+=64}};
    SHA1.prototype.Qc=function(){var a=Array(20),b=8*this.Pc;56>this.bc?this.update(this.af,56-this.bc):this.update(this.af,64-(this.bc-56));for(var c=63;56<=c;--c)this.$e[c]=b&255,b>>>=8;nl(this,this.$e);for(c=b=0;5>c;++c)for(var d=24;0<=d;d-=8)a[b++]=this.N[c]>>d&255;return a};G_HMAC=function(a,b,c){(!a||"object"!=typeof a||!a.reset||!a.update||!a.Qc)&&f(Error("Invalid hasher object. Hasher unspecified or does not implement expected interface."));b.constructor!=Array&&f(Error("Invalid key."));c&&"number"!=typeof c&&f(Error("Invalid block size."));this.Ea=a;this.bf=c||16;this.fk=Array(this.bf);this.gk=Array(this.bf);b.length>this.bf&&(this.Ea.update(b),b=this.Ea.Qc());for(c=0;c<this.bf;c++)a=c<b.length?b[c]:0,this.fk[c]=a^G_HMAC.Dm,this.gk[c]=a^G_HMAC.Cm};G_HMAC.Dm=92;
    G_HMAC.Cm=54;G_HMAC.prototype.reset=function(){this.Ea.reset();this.Ea.update(this.gk)};G_HMAC.prototype.update=function(a){a.constructor!=Array&&f(Error("Invalid data. Data must be an array."));this.Ea.update(a)};G_HMAC.prototype.Qc=function(){var a=this.Ea.Qc();this.Ea.reset();this.Ea.update(this.fk);this.Ea.update(a);return this.Ea.Qc()}; })()